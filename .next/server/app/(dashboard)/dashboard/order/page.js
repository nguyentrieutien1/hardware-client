(()=>{var e={};e.id=425,e.ids=[425],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>o});var s=r(482),a=r(9108),n=r(2563),i=r.n(n),c=r(8300),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(t,d);let o=["",{children:["(dashboard)",{children:["dashboard",{children:["order",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1685)),"G:\\computer-project\\client\\src\\app\\(dashboard)\\dashboard\\order\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3858)),"G:\\computer-project\\client\\src\\app\\(dashboard)\\dashboard\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5988)),"G:\\computer-project\\client\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],l=["G:\\computer-project\\client\\src\\app\\(dashboard)\\dashboard\\order\\page.tsx"],u="/(dashboard)/dashboard/order/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/dashboard/order/page",pathname:"/dashboard/order",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6203:(e,t,r)=>{Promise.resolve().then(r.bind(r,9772))},9772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(2295),a=r(3729),n=r(1981),i=r(9304),c=r(98),d=r(5871),o=r(9927),l=r(884);function u(){let[e,t]=(0,a.useState)([]),{data:r}=(0,d.Y)(),{mutateAsync:u}=(0,l.O)(),h=(e,t)=>{u({id:e,data:{statusId:t}})};return(0,a.useEffect)(()=>{r?.data&&t(r?.data)},[r?.data]),(0,s.jsxs)("div",{className:"content-wrapper",children:[s.jsx("div",{className:"col-2 mb-3",children:(0,s.jsxs)("div",{className:"",children:[s.jsx("label",{htmlFor:"",className:"form-label",children:"Lọc đơn h\xe0ng"}),(0,s.jsxs)("select",{onChange:e=>{let{value:s}=e.target;s?t([...r?.data].filter(e=>e?.status?.name===s)):t(r?.data)},className:"form-select  form-select-sm p-2 border-0",children:[s.jsx("option",{value:"",selected:!0,children:"Tất cả đơn h\xe0ng"}),s.jsx("option",{value:n.DF.ACCEPTED,children:"Đơn h\xe0ng đ\xe3 duyệt"}),s.jsx("option",{value:n.DF.PENDING,children:"Đơn h\xe0ng chờ ph\xea duyệt"}),s.jsx("option",{value:n.DF.CANCELED,children:"Đơn h\xe0ng đ\xe3 hủy"}),s.jsx("option",{value:n.DF.REJECT,children:"Đơn h\xe0ng đ\xf3ng ph\xea duyệt"})]})]})}),e.length>0?s.jsx("div",{className:"col-12 grid-margin",children:s.jsx("div",{className:"card",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h4",{className:"card-title",children:"Danh s\xe1ch đặt h\xe0ng"}),s.jsx("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:" T\xean h\xe0ng "}),s.jsx("th",{children:" Ng\xe0y đặt "}),s.jsx("th",{children:" Người đặt"}),s.jsx("th",{children:" Số lượng"}),s.jsx("th",{children:" Trạng th\xe1i đặt h\xe0ng"}),s.jsx("th",{children:" Gi\xe1"}),s.jsx("th",{children:" Tổng số tiền "})]})}),s.jsx("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"cursor-pointer",children:[s.jsx("td",{children:e?.cart?.product?.name}),(0,s.jsxs)("td",{children:[" ",(0,i.Bi)(e?.createdAt)]}),s.jsx("td",{children:e?.account?.fullName}),(0,s.jsxs)("td",{children:[" ",e?.cart?.quantity]}),s.jsx("td",{children:s.jsx(o.ZP,{trigger:"click",placement:"right-start",theme:"light",interactive:!0,content:e?.status?.name!==n.DF.CANCELED?(0,s.jsxs)("div",{className:"d-flex flex-column",children:[e?.status?.name===n.DF.PENDING?s.jsx("div",{onClick:()=>h(e?.id,7),className:"badge badge-gradient-success text-center cursor-pointer",children:"Ph\xea duyệt"}):s.jsx("div",{onClick:()=>h(e?.id,1),className:"badge badge-gradient-info text-center cursor-pointer",children:"Thu hồi ph\xea duyệt"}),e?.status?.name!==n.DF.REJECT&&s.jsx("div",{onClick:()=>h(e?.id,2),className:"badge badge-gradient-danger text-center cursor-pointer mt-2",children:"Từ chối"})]}):s.jsx("div",{onClick:()=>h(e?.id,1),className:"badge badge-gradient-danger text-center cursor-pointer",children:"K\xedch hoạt đơn h\xe0ng"}),zIndex:2,allowHTML:!0,arrow:!1,children:s.jsx("label",{className:`cursor-pointer badge badge-gradient-${e?.status?.name===n.DF.PENDING?"success":e?.status?.name===n.DF.CANCELED?"danger":e?.status?.name===n.DF.REJECT?"primary":"warning"}`,children:e?.status?.name===n.DF.PENDING?n.GP.PENDING:e?.status?.name===n.DF.CANCELED?n.GP.CANCELED:e?.status?.name===n.DF.REJECT?n.GP.REJECT:n.GP.ACCEPTED})})}),s.jsx("td",{children:(0,c.x)(e?.cart?.product?.price)}),s.jsx("td",{children:(0,c.x)(e?.cart?.product?.price*e?.cart?.quantity)})]}))})]})})]})})}):s.jsx("h3",{className:"text-center",children:"Hiện chưa c\xf3 đơn h\xe0ng m\xe0 bạn muốn t\xecm."})]})}},98:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var s=r(8225);let a=e=>s.format(e,{code:"VND"})},884:(e,t,r)=>{"use strict";r.d(t,{O:()=>d});var s=r(165),a=r(1791),n=r(7582),i=r(5871);let c=async({id:e,data:t})=>await a.p7.put(`/order/${e}`,t,{headers:{Authorization:`Bearer ${(0,a.$c)(a.B$.ACCESS_TOKEN)}`}}),d=()=>{let e=(0,s.useQueryClient)();return(0,s.useMutation)(c,{onSuccess({data:t}){let r=(0,n.xE)(),s=(0,i.y)();e.refetchQueries({queryKey:r}),e.refetchQueries({queryKey:s})}})}},5871:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,y:()=>i});var s=r(165),a=r(1791);let n=async()=>await a.p7.get("/order"),i=()=>["get-orders"],c=()=>(0,s.useQuery)({queryKey:i(),queryFn:n,staleTime:5e3,cacheTime:5e3})},1685:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5036);r(2);let a=(0,r(6843).createProxy)(String.raw`G:\computer-project\client\src\components\pages\dashboard\order\order.tsx`),{__esModule:n,$$typeof:i}=a,c=a.default;function d(){return s.jsx(c,{})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[267,95,122,225,927,308,916,369],()=>r(3457));module.exports=s})();