(()=>{var e={};e.id=425,e.ids=[425],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>l,pages:()=>u,routeModule:()=>h,tree:()=>d});var n=r(482),s=r(9108),a=r(2563),i=r.n(a),o=r(8300),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let d=["",{children:["(dashboard)",{children:["dashboard",{children:["order",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1685)),"G:\\computer-project\\client\\src\\app\\(dashboard)\\dashboard\\order\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3858)),"G:\\computer-project\\client\\src\\app\\(dashboard)\\dashboard\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"G:\\computer-project\\client\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],u=["G:\\computer-project\\client\\src\\app\\(dashboard)\\dashboard\\order\\page.tsx"],l="/(dashboard)/dashboard/order/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/dashboard/order/page",pathname:"/dashboard/order",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6203:(e,t,r)=>{Promise.resolve().then(r.bind(r,9772))},3697:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=r(3729);t.default=function(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e},[e]),t}},573:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){let t=(0,s.default)(e);return(0,n.useCallback)(function(...e){return t.current&&t.current(...e)},[t])};var n=r(3729),s=function(e){return e&&e.__esModule?e:{default:e}}(r(3697))},6804:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=r(3729);let s="undefined"!=typeof global&&global.navigator&&"ReactNative"===global.navigator.product;var a="undefined"!=typeof document||s?n.useLayoutEffect:n.useEffect;t.default=a},2190:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(){let e=(0,n.useRef)(!0),t=(0,n.useRef)(()=>e.current);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current};var n=r(3729)},4004:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{t.current=e}),t.current};var n=r(3729)},5532:(e,t,r)=>{"use strict";t.__esModule=!0,t.isTrivialHref=o,t.useButtonProps=c,t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(3729)),s=r(2295);let a=["as","disabled"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e){return!e||"#"===e.trim()}function c({tagName:e,disabled:t,href:r,target:n,rel:s,role:a,onClick:i,tabIndex:c=0,type:d}){e||(e=null!=r||null!=n||null!=s?"a":"button");let u={tagName:e};if("button"===e)return[{type:d||"button",disabled:t},u];let l=n=>{if((t||"a"===e&&o(r))&&n.preventDefault(),t){n.stopPropagation();return}null==i||i(n)};return"a"===e&&(r||(r="#"),t&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:t?void 0:c,href:r,target:"a"===e?n:void 0,"aria-disabled":t||void 0,rel:"a"===e?s:void 0,onClick:l,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),l(e))}},u]}let d=n.forwardRef((e,t)=>{let{as:r,disabled:n}=e,i=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,a),[o,{tagName:d}]=c(Object.assign({tagName:r,disabled:n},i));return(0,s.jsx)(d,Object.assign({},i,o,{ref:t}))});d.displayName="Button",t.default=d},5256:(e,t,r)=>{"use strict";r.d(t,{SC:()=>c,vE:()=>o});var n=r(3729);r(2295);let s=n.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:a,Provider:i}=s;function o(e,t){let{prefixes:r}=(0,n.useContext)(s);return e||r[t]||t}function c(){let{dir:e}=(0,n.useContext)(s);return"rtl"===e}},9772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(2295),s=r(3729),a=r(1981),i=r(2494),o=r(98),c=r(5871),d=r(9927),u=r(884),l=r(9211),p=r(7322);function h(){let[e,t]=(0,s.useState)([]),[r,h]=(0,s.useState)(1),{data:x,isLoading:f}=(0,c.Y)(),{mutateAsync:g,isLoading:m}=(0,u.O)(),v=(e,t)=>{g({id:e,data:{statusId:t}})};return(0,s.useEffect)(()=>{x?.data&&t(x?.data)},[x?.data]),(0,n.jsxs)("div",{className:"content-wrapper",children:[n.jsx(l.Z,{isLoading:m||f}),n.jsx("div",{className:"col-2 mb-3",children:(0,n.jsxs)("div",{className:"",children:[n.jsx("label",{htmlFor:"",className:"form-label",children:"Lọc đơn h\xe0ng"}),(0,n.jsxs)("select",{onChange:e=>{let{value:r}=e.target;r?t([...x?.data].filter(e=>e?.status?.name===r)):t(x?.data)},className:"form-select  form-select-sm p-2 border-0",children:[n.jsx("option",{value:"",selected:!0,children:"Tất cả đơn h\xe0ng"}),n.jsx("option",{value:a.DF.ACCEPTED,children:"Đơn h\xe0ng đ\xe3 duyệt"}),n.jsx("option",{value:a.DF.PENDING,children:"Đơn h\xe0ng chờ ph\xea duyệt"}),n.jsx("option",{value:a.DF.CANCELED,children:"Đơn h\xe0ng đ\xe3 hủy"}),n.jsx("option",{value:a.DF.REJECT,children:"Đơn h\xe0ng đ\xf3ng ph\xea duyệt"})]})]})}),e.length>0?n.jsx("div",{className:"col-12 grid-margin",children:n.jsx("div",{className:"card",children:(0,n.jsxs)("div",{className:"card-body",children:[n.jsx("h4",{className:"card-title",children:"Danh s\xe1ch đặt h\xe0ng"}),(0,n.jsxs)("div",{className:"table-responsive",children:[(0,n.jsxs)("table",{className:"table",children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{children:[n.jsx("th",{children:" T\xean h\xe0ng "}),n.jsx("th",{children:" Ng\xe0y đặt "}),n.jsx("th",{children:" Người đặt"}),n.jsx("th",{children:" Số lượng"}),n.jsx("th",{children:" Trạng th\xe1i đặt h\xe0ng"}),n.jsx("th",{children:" Gi\xe1"}),n.jsx("th",{children:" Tổng số tiền "})]})}),n.jsx("tbody",{children:e.map(e=>(0,n.jsxs)("tr",{className:"cursor-pointer",children:[n.jsx("td",{children:e?.product?.name}),(0,n.jsxs)("td",{children:[" ",(0,i.Bi)(e?.createdAt)]}),n.jsx("td",{children:e?.account?.fullName}),(0,n.jsxs)("td",{children:[" ",e?.quantity]}),n.jsx("td",{children:n.jsx(d.ZP,{trigger:"click",placement:"right-start",theme:"light",interactive:!0,content:e?.status?.name!==a.DF.CANCELED?(0,n.jsxs)("div",{className:"d-flex flex-column",children:[e?.status?.name===a.DF.PENDING?n.jsx("div",{onClick:()=>v(e?.id,7),className:"badge badge-gradient-success text-center cursor-pointer",children:"Ph\xea duyệt"}):n.jsx("div",{onClick:()=>v(e?.id,1),className:"badge badge-gradient-info text-center cursor-pointer",children:"Thu hồi ph\xea duyệt"}),e?.status?.name!==a.DF.REJECT&&n.jsx("div",{onClick:()=>v(e?.id,2),className:"badge badge-gradient-danger text-center cursor-pointer mt-2",children:"Từ chối"})]}):n.jsx("div",{onClick:()=>v(e?.id,1),className:"badge badge-gradient-danger text-center cursor-pointer",children:"K\xedch hoạt đơn h\xe0ng"}),zIndex:2,allowHTML:!0,arrow:!1,children:n.jsx("label",{className:`cursor-pointer badge badge-gradient-${e?.status?.name===a.DF.PENDING?"success":e?.status?.name===a.DF.CANCELED?"danger":e?.status?.name===a.DF.REJECT?"primary":"warning"}`,children:e?.status?.name===a.DF.PENDING?a.GP.PENDING:e?.status?.name===a.DF.CANCELED?a.GP.CANCELED:e?.status?.name===a.DF.REJECT?a.GP.REJECT:a.GP.ACCEPTED})})}),n.jsx("td",{children:(0,o.x)(e?.product?.price)}),n.jsx("td",{children:(0,o.x)(e?.product?.price*e?.quantity)})]}))})]}),n.jsx("div",{className:"d-flex justify-content-end mt-4",children:x?.data&&n.jsx(p.Z,{active:r,handleJump:e=>{h(e)},length:e.length,step:8})})]})]})})}):n.jsx("h3",{className:"text-center",children:"Hiện chưa c\xf3 đơn h\xe0ng m\xe0 bạn muốn t\xecm."})]})}},7322:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2295);r(3729);var s=r(4465);function a(e){let{length:t,active:r,handleJump:a,step:i=8}=e,o=[];for(let e=1;e<=t/i+1;e++)o.push(n.jsx(s.Z.Item,{defaultValue:r,onClick:()=>a(e),activeLabel:"",active:e===r,children:e},e));return n.jsx(s.Z,{size:"sm",children:o})}},98:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(8225);let s=e=>n.format(e,{code:"VND"})},884:(e,t,r)=>{"use strict";r.d(t,{O:()=>c});var n=r(165),s=r(1280),a=r(4060),i=r(5871);let o=async({id:e,data:t})=>await s.p7.put(`/order/${e}`,t,{headers:{Authorization:`Bearer ${(0,s.$c)(s.B$.ACCESS_TOKEN)}`}}),c=()=>{let e=(0,n.useQueryClient)();return(0,n.useMutation)(o,{onSuccess({data:t}){let r=(0,a.xE)(),n=(0,i.y)();e.setQueriesData(r,e=>{let r=e?.data?.order?.filter(e=>e?.id!=t?.id);return e.data.order=r,e}),console.log(t),e.setQueriesData(n,e=>{let r=e?.data?.map(e=>e?.id==t?.id?t:e);return e.data=r,e})}})}},5871:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o,y:()=>i});var n=r(165),s=r(1280);let a=async()=>await s.p7.get("/order"),i=()=>["get-orders"],o=()=>(0,n.useQuery)({queryKey:i(),queryFn:a,refetchOnWindowFocus:!1,cacheTime:432e5,staleTime:432e5})},1685:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5036);r(2);let s=(0,r(6843).createProxy)(String.raw`G:\computer-project\client\src\components\pages\dashboard\order\order.tsx`),{__esModule:a,$$typeof:i}=s,o=s.default;function c(){return n.jsx(o,{})}},4132:(e,t)=>{var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}(r)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0!==(r=(function(){return s}).apply(t,[]))&&(e.exports=r)}()}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[508,990,223,225,927,465,325,106,697],()=>r(3457));module.exports=n})();