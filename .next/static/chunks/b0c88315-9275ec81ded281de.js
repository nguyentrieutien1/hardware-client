"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4631],{3718:function(e,t,i){i.d(t,{NB:function(){return ee},Qc:function(){return eu}});var s,a=i(2265),l=i(4275),n=i(1717),o=i(103),r=i(9476),d=i(2022),p=i(8635),h=i(1811),u=i(6773),c=i(7198),g=i(6931);class v extends a.Component{render(){let{children:e,width:t,dir:i,itemsCount:s,popupSettings:l}=this.props;return a.createElement(d.GI,{style:{width:t,direction:i},contentKey:s&&s.join(),...l},e)}}let m=a.forwardRef((e,t)=>{let i=a.useRef(null);return a.useImperativeHandle(t,()=>i.current),a.createElement("div",{className:"k-list-filter"},a.createElement(p.zC,{...e,ref:i,value:e.value||"",onChange:e.onChange,onKeyDown:e.onKeyDown,tabIndex:e.tabIndex,onClick:e=>e.stopPropagation(),size:e.size,fillMode:e.fillMode,rounded:e.rounded,prefix:()=>a.createElement(p.Zc,null,a.createElement(n.aO,{name:"search",icon:r.RL9}))}))});m.propTypes={value:l.oneOfType([l.string,l.number,l.array]),tabIndex:l.number,onChange:l.func,onKeyDown:l.func,size:l.oneOf([null,"small","medium","large"]),rounded:l.oneOf([null,"small","medium","large","full"]),fillMode:l.oneOf([null,"solid","flat","outline"])},m.displayName="KendoReactListFilter";class f extends a.Component{render(){let{group:e,groupMode:t,render:i}=this.props,s=a.createElement("div",{className:"k-list-group-sticky-header"},"classic"===t?e:a.createElement("div",{className:"k-list-header-text"},e));return void 0!==i?i.call(void 0,s,this.props):s}}let b=e=>null!=e,y=(e,t)=>{for(let i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0},k=(e,t,i)=>{let s=e;return i&&(s=[i].concat(s)),s.slice(t).concat(s.slice(0,t))},C=(e,t,i)=>{if(!b(e))return!1;let s=String(e);return i&&(s=s.toLowerCase()),0===s.indexOf(t)},I=(e,t,i,s,a)=>{let l=e.offsetHeight,n=t.children.item(i),o=n.offsetTop+(a?s-e.scrollTop:0),r=n.offsetHeight;if(a){let t=0;o+r>l?t=o+r-l:o<0&&(t=o),0!==t?e.scrollTop+=t:0===e.scrollTop&&0!==s&&(e.scrollTop=s)}else o+r>l+e.scrollTop?e.scrollTop=o+r-l:o<e.scrollTop&&(e.scrollTop-=e.scrollTop-o)},x=(e,t,i)=>{let s=-1;if(t){t=t.toLowerCase();for(let a=0;a<e.length;a++){let l=(S(e[a],i)||"")+"";if(l&&l.toLowerCase().startsWith(t)){s=a;break}}}return s},E=(e,t,i,s=!1)=>{let a=e=>s?e:e.toLowerCase();return e.findIndex(e=>i?a(S(e,i))===a(t):a(t)===a(e.toString()))},S=(e,t)=>{if(t&&b(e)){let i=t.split("."),s=e;return i.forEach(e=>{s=s?s[e]:void 0}),s}return e},w=(e=[],t=[],i)=>{if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!F(e[s],t[s],i))return!1;return!0},R=(e,t,i)=>{t.forEach(t=>{let s=e.findIndex(e=>F(e,t,i));-1!==s&&e.splice(s,1)})},F=(e,t,i)=>e===t||b(e)===b(t)&&S(e,i)===S(t,i),D=(e,t,i)=>{if(t){let s=E(e,t,i,!0);return -1!==s?e[s]:e[x(e,t,i)]}return e[0]},M=(e,t=[],i)=>{let s="";if(e){let a=t[x(t,e,i)];if(a){let t=S(a,i);e.toLowerCase()!==t.toLowerCase()&&(s=t.substring(e.length))}}return s},N=e=>{"INPUT"!==e.target.nodeName&&e.preventDefault()},T=(e,t,i)=>!!e==!!t&&e.text===t.text&&(e===t||w(e.data,t.data,i)),O=e=>e.preventDefault();class _ extends a.Component{render(){let{selected:e,defaultItem:t,textField:i}=this.props;return a.createElement("div",{onClick:this.props.onClick,onMouseDown:O,style:{position:"unset"},className:(0,n.AK)("k-list-optionlabel",{"k-selected":e})},S(t,i)||"")}}class K extends a.Component{constructor(){super(...arguments),this.handleClick=e=>this.props.onClick(this.props.index,e)}render(){let{selected:e,group:t,dataItem:i,virtual:s,groupMode:l,disabled:o,render:r}=this.props,d=a.createElement("li",{id:this.props.id,role:"option","aria-selected":e,"aria-disabled":!!o||void 0,className:(0,n.AK)("k-list-item",{"k-selected":e,"k-focus":this.props.focused,"k-first":!!t&&"classic"===l,"k-disabled":o}),onClick:this.handleClick,style:{position:s?"relative":"unset"}},a.createElement("span",{className:"k-list-item-text"},S(i,this.props.textField).toString()),void 0!==t&&"classic"===l?a.createElement("div",{className:"k-list-item-group-label"},t):null);return void 0!==r?r.call(void 0,d,this.props):d}}class P extends a.Component{render(){let{group:e,virtual:t,render:i,isMultiColumn:s=!1}=this.props,l=a.createElement("li",{id:this.props.id,role:"group",className:s?"k-table-group-row":"k-list-group-item",style:s?{boxSizing:"inherit"}:{position:t?"relative":"unset"}},a.createElement("span",{className:i?void 0:s?"k-table-th":"k-list-item-text"},e));return void 0!==i?i.call(void 0,l,this.props):l}}let z="dropdowns.nodata",B="dropdowns.clear",H="dropdowns.comboArrowBtnAriaLabelExpand",V="dropdowns.comboArrowBtnAriaLabelCollapse",L="dropdowns.dropDownListArrowBtnAriaLabel",q="dropdowns.apply",A="dropdowns.cancel",W={[B]:"clear",[z]:"NO DATA FOUND.",[H]:"expand combobox",[V]:"collapse combobox",[L]:"select",[q]:"Apply",[A]:"Cancel"};class $ extends a.Component{renderItems(){let{textField:e,valueField:t,groupField:i,groupMode:s,isMultiColumn:l,optionsGuid:n,skip:o=0,virtual:r,focusedIndex:d,highlightSelected:p=!0,value:h,data:u,itemRender:c,groupHeaderItemRender:g}=this.props,v=Array.isArray(h),m=0;return u.map((f,b)=>{let y,k,C;let I=o+b,x=o+b+m,E=!f.disabled&&p&&(!v&&F(f,h,t)||v&&-1!==h.findIndex(e=>F(e,f,t)));return b>0&&void 0!==i&&(k=S(f,i),C=S(u[b-1],i),k&&C&&k!==C&&(y=k)),void 0!==y&&"modern"===s&&(m+=1),[void 0!==y&&"modern"===s&&a.createElement(P,{id:`option-${n}-${x}`,virtual:r,key:I+"-group-item",group:y,isMultiColumn:l,render:g}),a.createElement(K,{id:`option-${n}-${void 0!==y&&"modern"===s?x+1:x}`,virtual:r,dataItem:f,groupMode:s,selected:E,focused:d===b,index:I,key:I,onClick:this.props.onClick,textField:e,group:y,render:c,disabled:f.disabled})]})}renderNoValueElement(e){let t=this.props.noDataRender,i=a.createElement("div",{className:"k-nodata"},a.createElement("div",null,e.toLanguageString(z,W[z])));return t?t.call(void 0,i):i}render(){let e=(0,h.uE)(this),{id:t,show:i,wrapperCssClass:s,wrapperStyle:l,listStyle:n,listRef:o,wrapperRef:r,listClassName:d="k-list-ul",ariaSetSize:p}=this.props,u=this.renderItems();return u.length?a.createElement("div",{className:s,style:l,ref:r,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onScroll:this.props.onScroll,unselectable:"on"},a.createElement("ul",{id:t,role:"listbox","aria-hidden":!i||void 0,"aria-setsize":p,className:d,ref:o,style:n},u),this.props.scroller&&a.createElement("div",{className:"k-height-container"},this.props.scroller)):this.renderNoValueElement(e)}}(0,h.Oh)($);class U{constructor(){this.container=null,this.scrollElement=null,this.list=null,this.containerHeight=0,this.skip=0,this.total=0,this.enabled=!1,this.pageSize=0,this.itemHeight=0,this.PageChange=null,this.prevScrollPos=0,this.listTranslate=0,this.scrollSyncing=!1,this.scrollerRef=e=>{this.container=e,e&&(e.setAttribute("unselectable","on"),window.setTimeout(this.calcScrollElementHeight.bind(this),0))},this.calcScrollElementHeight=()=>{this.scrollSyncing=!0;let e=!1;this.itemHeight=this.list?this.list.children[0].offsetHeight:this.itemHeight,this.containerHeight=Math.min(1533915,this.itemHeight*this.total);let t=this.containerHeight;return this.scrollElement&&(e=this.scrollElement.style.height!==t+"px")&&(this.scrollElement.style.height=t+"px"),this.scrollSyncing=!1,e},this.scrollHandler=this.scrollHandler.bind(this)}get translate(){return this.listTranslate}changePage(e,t){let i=Math.min(Math.max(0,e),this.total-this.pageSize);i!==this.skip&&this.PageChange&&this.PageChange({skip:i,take:this.pageSize},t)}translateTo(e){this.listTranslate=e,this.list&&(this.list.style.transform="translateY("+e+"px)")}reset(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0))}scrollToEnd(){this.container&&this.list&&(this.calcScrollElementHeight(),this.container.scrollTop=this.container.scrollHeight-this.container.offsetHeight,this.translateTo(this.container.scrollHeight))}localScrollUp(e){let t=this.itemHeight,i=this.container.scrollTop,s=this.listTranslate,a,l=i-s;if(!(l>t)){for(a=0;a<this.skip&&!(s+t+l<=i);a++)s-=t;if(s=this.validateTranslate(s),this.skip-a<=0&&s>=i){this.translateTo(0),this.changePage(0,e),this.container.scrollTop=0;return}s!==this.listTranslate&&(this.translateTo(s),this.changePage(this.skip-a,e))}}localScrollDown(e){let t;let i=this.itemHeight,s=this.container.scrollTop,a=this.listTranslate,l=this.list.children.length;for(t=0;t<l&&!(a+i>=s);t++)a+=i;a=this.validateTranslate(a),t>=l&&this.skip+t>=this.total?(this.translateTo(a),this.changePage(this.total-1,e)):a!==this.listTranslate&&(this.translateTo(a),this.changePage(this.skip+t,e))}scrollNonStrict(e){let t=this.total*this.prevScrollPos/this.containerHeight,i=Math.min(Math.floor(t),this.total-1),s=this.containerHeight*t/this.total;s=this.validateTranslate(s),this.translateTo(s),this.changePage(i,e)}scrollHandler(e){let t=this.container?this.container.scrollTop:0,i=this.prevScrollPos;this.prevScrollPos=t,this.enabled&&this.list&&this.container&&!this.scrollSyncing&&(t-i<=0&&t>this.listTranslate-this.list.scrollHeight/10?this.localScrollUp(e):t-i>0&&t<this.listTranslate+2*this.list.scrollHeight/3?this.localScrollDown(e):this.scrollNonStrict(e))}validateTranslate(e){return e=Math.max(0,e),e=Math.min(this.containerHeight,e)}}class G{navigate(e){let t=e.keyCode;return t===n.R8.up||t===n.R8.left?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:-1}):t===n.R8.down||t===n.R8.right?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:1}):t===n.R8.home?0:t===n.R8.end?e.max:void 0}next(e){return b(e.current)?Math.min(e.max,Math.max(e.current+e.step,e.min)):e.min}}let Y=class{constructor(e){this.wrapper=null,this.list=null,this.vs=new U,this.navigation=new G,this.handleItemClick=(e,t)=>{let i=this.initState();i.syntheticEvent=t,t.stopPropagation(),this.component.handleItemSelect(e,i),this.togglePopup(i),this.applyState(i)},this.handleFocus=e=>{if(!this.component.state.focused){let t=this.initState();t.data.focused=!0,t.events.push({type:"onFocus"}),t.syntheticEvent=e,this.applyState(t)}},this.filterChanged=(e,t)=>{let{textField:i,filterable:s}=this.component.props;s&&t.events.push({type:"onFilterChange",filter:{field:i,operator:"contains",ignoreCase:!0,value:e}})},this.togglePopup=e=>{let t=this.component.props,i=void 0!==t.opened?t.opened:this.component.state.opened;void 0===t.opened&&(e.data.opened=!i),i?e.events.push({type:"onClose"}):(e.events.push({type:"onOpen"}),this.calculatePopupWidth())},this.pageChange=(e,t)=>{let i=this.initState();i.syntheticEvent=t,this.triggerOnPageChange(i,e.skip,e.take),this.applyState(i)},this.scrollToVirtualItem=(e,t)=>{let i=this.vs;if(i.enabled=!1,0===e.skip)i.reset();else if(e.skip+e.pageSize===e.total)i.scrollToEnd();else{let s=i.translate;0===s&&(i.calcScrollElementHeight(),s=i.itemHeight*e.skip,i.translateTo(s-i.itemHeight)),i.container&&(i.container.scrollTop=s),this.scrollToItem(t,!0)}window.setTimeout(()=>i.enabled=!0,10)},this.scrollPopupByPageSize=e=>{var t,i,s,a,l,n;let o=this.vs,r=null==(i=null==(t=this.list)?void 0:t.parentElement)?void 0:i.scrollTop,d=o.enabled&&o.itemHeight?o.itemHeight:this.list?this.list.children[0].offsetHeight:0,p=null==(a=null==(s=this.list)?void 0:s.parentElement)?void 0:a.offsetHeight;void 0!==r&&void 0!==p&&(null==(n=null==(l=this.list)?void 0:l.parentElement)||n.scroll({top:r+e*Math.floor(p/d)*d}))},this.renderScrollElement=()=>{let e=this.vs;return e.enabled&&a.createElement("div",{ref:t=>e.scrollElement=t,key:"scrollElementKey"})},this.resetGroupStickyHeader=(e,t)=>{e!==t.state.group&&t.setState({...t.state,group:e})},this.listBoxId=e.props.id+"list",this.guid=e.props.id,this.component=e,this.vs.PageChange=this.pageChange}didMount(){let e=this.component.props,t=e.popupSettings||{},i=e.style||{},s=t.width,a=!0===e.opened;void 0===s&&this.calculatePopupWidth(),void 0===e.dir&&void 0===i.direction&&(this.calculateDir(),a=!0),a&&this.component.forceUpdate()}calculateDir(){let e=this.component.element;e&&e.ownerDocument&&e.ownerDocument.defaultView&&(this.dirCalculated=e.ownerDocument.defaultView.getComputedStyle(e).direction||void 0)}calculatePopupWidth(){this.wrapper&&(this.popupWidth=this.wrapper.offsetWidth+"px")}scrollToItem(e,t,i){let s=this.list||this.vs.list;if(s||i||setTimeout(()=>{this.scrollToItem(e,t,!0)},10),s&&e>=0){let i=this.vs,a=i.container||s.parentNode,l=void 0!==t?t:i.enabled;I(a,s,e,i.translate,l)}}initState(){return{data:{},events:[],syntheticEvent:void 0}}applyState(e){Object.keys(e.data).length>0&&this.component.setState(e.data);let t={syntheticEvent:e.syntheticEvent,nativeEvent:e.syntheticEvent?e.syntheticEvent.nativeEvent:void 0,target:this.component,value:this.component.value};e.events.forEach(e=>{let i=e.type;delete e.type;let s=i&&this.component.props[i];s&&s.call(void 0,{...t,...e})})}triggerOnPageChange(e,t,i){let s=this.component.props.virtual;if(s){let a=Math.min(Math.max(0,t),Math.max(0,s.total-i));a!==s.skip&&e.events.push({type:"onPageChange",page:{skip:a,take:i}})}}triggerPageChangeCornerItems(e,t){let i=this.component.props,{data:s=[],dataItemKey:a,virtual:l}=i,n=void 0!==i.opened?i.opened:this.component.state.opened;e&&l&&this.vs.enabled&&(l.skip>0&&F(e,s[0],a)?this.triggerOnPageChange(t,l.skip-1,l.pageSize):!n&&l.skip+l.pageSize<l.total&&F(e,s[s.length-1],a)&&this.triggerOnPageChange(t,l.skip+1,l.pageSize))}getPopupSettings(){return Object.assign({},Y.defaultProps.popupSettings,this.component.props.popupSettings)}getGroupedDataModernMode(e,t){let i=[];return e.forEach((s,a)=>{e[a-1]&&s[t]!==e[a-1][t]&&i.push({[t]:s[t]}),i.push(e[a])}),i}};Y.basicPropTypes={opened:l.bool,disabled:l.bool,dir:l.string,tabIndex:l.number,accessKey:l.string,data:l.array,textField:l.string,className:l.string,label:l.string,loading:l.bool,popupSettings:l.shape({animate:l.oneOfType([l.bool,l.shape({openDuration:l.number,closeDuration:l.number})]),popupClass:l.string,className:l.string,appendTo:l.any,width:l.oneOfType([l.string,l.number]),height:l.oneOfType([l.string,l.number])}),onOpen:l.func,onClose:l.func,onFocus:l.func,onBlur:l.func,onChange:l.func,itemRender:l.func,listNoDataRender:l.func,focusedItemIndex:l.func,header:l.node,footer:l.node},Y.propTypes={...Y.basicPropTypes,value:l.any,defaultValue:l.any,filterable:l.bool,filter:l.string,virtual:l.shape({pageSize:l.number.isRequired,skip:l.number.isRequired,total:l.number.isRequired}),onFilterChange:l.func,onPageChange:l.func},Y.defaultProps={popupSettings:{height:"200px"},required:!1,validityStyles:!0};let j={name:"@progress/kendo-react-dropdowns",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1702644780,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},{sizeMap:Z,roundedMap:Q}=n.kendoThemeMaps,J=class extends a.Component{constructor(e){super(e),this.state={},this._element=null,this.base=new Y(this),this.searchState={word:"",last:""},this._select=null,this._skipFocusEvent=!1,this._filterInput=null,this._navigated=!1,this._lastKeypressIsFilter=!1,this.itemHeight=0,this.focus=()=>{this.base.wrapper&&this.base.wrapper.focus()},this.handleItemSelect=(e,t)=>{let{data:i=[],virtual:s,dataItemKey:a,defaultItem:l}=this.props,n=s?s.skip:0,o=-1===e&&void 0!==l?l:i[e-n],r=!F(o,this.value,a);this.triggerOnChange(o,t),r&&this.base.triggerPageChangeCornerItems(o,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.dummySelect=e=>a.createElement("select",{name:this.props.name,ref:e=>{this._select=e},tabIndex:-1,"aria-hidden":!0,title:this.props.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},a.createElement("option",{value:this.props.valueMap?this.props.valueMap.call(void 0,e):e})),this.renderListContainer=()=>{let{header:e,footer:t,dir:i,data:s=[],size:l,groupField:o,groupStickyHeaderItemRender:r,list:d}=this.props,p=this.base,h=p.getPopupSettings(),u=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==h.width?h.width:p.popupWidth,g={dir:void 0!==i?i:p.dirCalculated,width:c,popupSettings:{popupClass:(0,n.AK)(h.popupClass,"k-list-container","k-dropdownlist-popup"),className:h.className,animate:h.animate,anchor:this.element,show:u,onOpen:this.onPopupOpened,onClose:this.onPopupClosed,appendTo:h.appendTo},itemsCount:[s.length]},{group:m}=this.state;return void 0===m&&void 0!==o&&(m=S(s[0],o)),a.createElement(v,{...g},this.renderListFilter(),e&&a.createElement("div",{className:"k-list-header"},e),a.createElement("div",{className:(0,n.AK)("k-list",{[`k-list-${Z[l]||l}`]:l,"k-virtual-list":this.base.vs.enabled})},this.renderDefaultItem(),!d&&m&&0!==s.length&&a.createElement(f,{group:m,groupMode:"modern",render:r}),this.renderList()),t&&a.createElement("div",{className:"k-list-footer"},t))},this.renderList=()=>{let{data:e=[],textField:t,dataItemKey:i,virtual:s={skip:0,total:void 0},groupHeaderItemRender:l,listNoDataRender:n,itemRender:o}=this.props,r=this.base.vs,d=s.skip,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=this.base.getPopupSettings(),u=`translateY(${r.translate}px)`;return a.createElement($,{id:this._listboxId,show:p,data:e.slice(),focusedIndex:this.getFocusedIndex(),value:this.value,textField:t,valueField:i,optionsGuid:this._guid,groupField:this.props.groupField,groupMode:"modern",listRef:e=>r.list=this.base.list=e,wrapperStyle:{maxHeight:h.height},wrapperCssClass:"k-list-content",listStyle:r.enabled?{transform:u}:void 0,key:"listkey",skip:d,onClick:this.handleItemClick,itemRender:o,groupHeaderItemRender:l,noDataRender:n,onScroll:this.onScroll,wrapperRef:r.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:s.total})},this.onScroll=e=>{let{vs:t,list:i}=this.base;t.scrollHandler(e);let{groupField:s}=this.props,{data:a=[]}=this.props;if(!(!s||!a.length)&&s){let l=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:i?i.children[0].offsetHeight:0),n=e.target.scrollTop-t.skip*l,o=(a=this.base.getGroupedDataModernMode(a,s))[0][s];for(let e=1;e<a.length&&!(l*e>n);e++)a[e]&&a[e][s]&&(o=a[e][s]);o!==this.state.group&&this.setState({group:o})}},this.renderListFilter=()=>{let e=void 0!==this.props.filter?this.props.filter:this.state.text;return this.props.filterable&&a.createElement(m,{value:e,ref:e=>this._filterInput=e&&e.element,onChange:this.handleListFilterChange,onKeyDown:this.handleKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode})},this.renderDefaultItem=()=>{let{textField:e,defaultItem:t,dataItemKey:i}=this.props;return void 0!==t&&a.createElement(_,{defaultItem:t,textField:e,selected:F(this.value,t,i),key:"defaultitemkey",onClick:this.handleDefaultItemClick})},this.search=e=>{clearTimeout(this._typingTimeout),this.props.filterable||(this._typingTimeout=window.setTimeout(()=>this.searchState.word="",this.props.delay),this.selectNext(e))},this.selectNext=e=>{let{data:t=[],dataItemKey:i}=this.props,s=t.map((e,t)=>({item:e,itemIndex:t})),a=this.searchState.word,l=this.searchState.last,n=y(a,l),o=s.length,r=Math.max(0,t.findIndex(e=>F(e,this.value,i))),d;this.props.defaultItem&&(d={item:this.props.defaultItem,itemIndex:-1},o+=1,r+=1),r+=n?1:0,s=k(s,r,d);let p,h,u,c=0,{textField:g,ignoreCase:v}=this.props;for(;c<o;c++)if(p=S(s[c].item,g),h=n&&C(p,l,v),u=C(p,a,v),h||u){c=s[c].itemIndex;break}if(c!==o){let t=this.base.initState();t.syntheticEvent=e,this.handleItemSelect(c,t),this.applyState(t),this._valueDuringOnChange=void 0}},this.handleKeyDown=e=>{e&&e.target instanceof Element&&"INPUT"===e.target.nodeName&&e.stopPropagation&&e.stopPropagation();let{data:t=[],filterable:i,disabled:s,defaultItem:a,leftRightKeysNavigation:l=!0,virtual:o={skip:0,total:0,pageSize:0},dataItemKey:r,groupField:d="",textField:p,skipDisabledItems:h=!0}=this.props,u=this.value,c=t.findIndex(e=>F(e,u,r)),g=void 0!==this.props.opened?this.props.opened:this.state.opened,v=e.keyCode,m=v===n.R8.home||v===n.R8.end,f=v===n.R8.up||v===n.R8.down,b=!g&&(e.altKey&&v===n.R8.down||v===n.R8.enter||v===n.R8.space),y=g&&(e.altKey&&v===n.R8.up||v===n.R8.esc),k=l&&(v===n.R8.left||v===n.R8.right),C=this.base.initState();if(C.syntheticEvent=e,!s){if(m&&this.base.vs.enabled)v===n.R8.home?0!==o.skip?(this.base.triggerOnPageChange(C,0,o.pageSize),this._navigated=!0):this.triggerOnChange(t[0],C):o.skip<o.total-o.pageSize?(this.base.triggerOnPageChange(C,o.total-o.pageSize,o.pageSize),this._navigated=!0):this.triggerOnChange(t[t.length-1],C);else if(g&&v===n.R8.pageUp)this.base.scrollPopupByPageSize(-1);else if(g&&v===n.R8.pageDown)this.base.scrollPopupByPageSize(1);else if(g&&v===n.R8.enter){let i=this.getFocusedIndex();this.haveFocusedItemAndDataNotEmpty(t,i)?(this.triggerOnChange(null,C),this.applyState(C)):this.handleItemSelect(i,C),this.base.togglePopup(C),e.preventDefault()}else if(b||y)y&&this.resetValueIfDisabledItem(),this.base.togglePopup(C),e.preventDefault();else if(f||k&&!i||m){if(this._lastKeypressIsFilter=!1,""!==d&&p){if(!h&&g)this.onNavigate(C,v);else{let e;if(v===n.R8.down||v===n.R8.right){let i=t.slice(c+1).find(e=>!e.disabled&&e[p]);e=i&&t.findIndex(e=>e[p]===i[p])}else if(v===n.R8.up||v===n.R8.left){let i;if(0===c&&a)e=-1;else if(-1===c)i=t,e=t.findIndex(e=>!e.disabled&&e[p]);else{let s=(i=t.slice(0,c)).pop();for(;s&&s.disabled;)s=i.pop();e=s&&t.findIndex(e=>e[p]===s[p])}}if(void 0!==e){let t=e-c;this.onNavigate(C,v,t)}else void 0===e&&t.findIndex(e=>e[p]===u[p])===t.length-1&&this.onNavigate(C,v)}}else if(!h&&g||m)this.onNavigate(C,v);else if(p){let e;if(v===n.R8.down||v===n.R8.right){let i=t.slice(c+1).find(e=>!e.disabled&&e[p]);e=i&&t.findIndex(e=>e[p]===i[p])}else if(v===n.R8.up||v===n.R8.left){let i;if(0===c&&a)e=-1;else if(-1===c)i=t,e=t.find(e=>!e.disabled&&e[p]);else{let s=(i=t.slice(0,c)).pop();for(;s&&s.disabled;)s=i.pop();e=s&&t.findIndex(e=>e[p]===s[p])}}if(void 0!==e){let t=e-c;this.onNavigate(C,v,t)}else void 0===e&&t.findIndex(e=>e[p]===u[p])===t.length-1&&this.onNavigate(C,v)}else this.onNavigate(C,v);e.preventDefault()}this.applyState(C)}},this.handleItemClick=(e,t)=>{this.base.handleItemClick(e,t),this._valueDuringOnChange=void 0},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.handleBlur=e=>{if(this._skipFocusEvent||!this.state.focused)return;let t=void 0!==this.props.opened?this.props.opened:this.state.opened,{adaptive:i}=this.props,{windowWidth:s=0}=this.state,a=this.base.initState();a.syntheticEvent=e,a.data.focused=!1,a.events.push({type:"onBlur"}),t&&this.resetValueIfDisabledItem(),t&&!(s<=768&&i)&&this.base.togglePopup(a),this.applyState(a)},this.handleDefaultItemClick=e=>{let t=this.base.initState();t.syntheticEvent=e,this.base.togglePopup(t),this.triggerOnChange(this.props.defaultItem,t),this.applyState(t)},this.handleWrapperClick=e=>{if(e.isPropagationStopped())return;let t=this.base.initState();t.syntheticEvent=e,this.state.focused||(t.data.focused=!0),this.resetValueIfDisabledItem(),this.base.togglePopup(t),this.applyState(t)},this.handleKeyPress=e=>{if(this.props.filterable||0===e.which||e.keyCode===n.R8.enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.props.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.searchState={word:this.searchState.word+t,last:this.searchState.last+t},this.search(e)},this.handleListFilterChange=e=>{let t=this.base.initState();t.syntheticEvent=e.syntheticEvent,void 0===this.props.filter&&(t.data.text=e.target.value),this.base.filterChanged(e.target.value,t),this._lastKeypressIsFilter=!0,this.applyState(t),this.setState({group:void 0})},this.onPopupOpened=()=>{this._filterInput&&this.focusElement(this._filterInput),this.props.adaptive&&setTimeout(()=>{this._filterInput&&this.focusElement(this._filterInput)},300)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout(()=>{this.state.focused&&this.base.wrapper&&this.focusElement(this.base.wrapper)})},this.setValidity=()=>{this._select&&this._select.setCustomValidity&&this._select.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please select a value from the list!")},(0,n.sc)(j)}get _inputId(){return this.props.id+"-accessibility-id"}get _listboxId(){return this.props.id+"-listbox-id"}get _guid(){return this.props.id+"-guid"}get document(){if(n.Nq)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get value(){let e;return void 0!==this._valueDuringOnChange?e=this._valueDuringOnChange:void 0!==this.props.value?e=this.props.value:void 0!==this.state.value?e=this.state.value:void 0!==this.props.defaultValue&&(e=this.props.defaultValue),b(e)||void 0===this.props.defaultItem||(e=this.props.defaultItem),e}get index(){let{data:e=[],dataItemKey:t}=this.props,i=this.value;return e.findIndex(e=>F(e,i,t))}get name(){return this.props.name}get validity(){let e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:J.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:J.defaultProps.required}componentDidUpdate(e,t){var i;let{dataItemKey:s,virtual:a,groupField:l="",textField:n}=this.props,{data:o=[]}=this.props,r=e.virtual?e.virtual.total:0,d=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==e.opened?e.opened:t.opened,h=!p&&d;if(this.base.getPopupSettings().animate||h&&this.onPopupOpened(),a&&a.total!==r)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let r=this.value,u=void 0!==e.value?e.value:t.value,c=o.findIndex(e=>F(e,r,s));""!==l&&r&&n&&(c=null==(i=this.base.getGroupedDataModernMode(o,l))?void 0:i.map(e=>e[n]).indexOf(r[n]));let g=!F(u,r,s);h&&a?this.base.scrollToVirtualItem(a,c):h&&!a?(this.onPopupOpened(),o&&0!==o.length&&this.base.resetGroupStickyHeader(o[0][l],this),this.base.scrollToItem(c)):d&&p&&r&&g&&!this._navigated?this.base.scrollToItem(c):d&&p&&this._navigated&&(this._navigated&&a&&0===a.skip?this.base.vs.reset():this._navigated&&a&&a.skip===a.total-a.pageSize&&this.base.vs.scrollToEnd())}this._navigated=!1,this.setValidity()}componentDidMount(){var e;this.observerResize=n.Nq&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){let e=(0,h.uE)(this).toLanguageString(L,W[L]),{style:t,className:i,label:s,dir:l,virtual:d,size:p,rounded:c,fillMode:g,adaptive:v}=this.props,{windowWidth:m=0}=this.state,f=void 0!==this.props.opened?this.props.opened:this.state.opened,b=this.value,y=S(b,this.props.textField),k=!this.validityStyles||this.validity.valid,C=this.base,I=C.vs,x=m<=768&&v;I.enabled=void 0!==d,void 0!==d&&(C.vs.skip=d.skip,C.vs.total=d.total,C.vs.pageSize=d.pageSize);let{dataItemKey:E,data:w=[],disabled:R,tabIndex:D,loading:M,iconClassName:N,valueRender:T}=this.props,{focused:O}=this.state,_=w.findIndex(e=>F(e,b,E)),K=a.createElement("span",{id:this._inputId,className:"k-input-inner"},a.createElement("span",{className:"k-input-value-text"},y)),P=void 0!==T?T.call(void 0,K,b):K,z=a.createElement(a.Fragment,null,a.createElement("span",{ref:this.componentRef,className:(0,n.AK)("k-dropdownlist k-picker",i,{[`k-picker-${Z[p]||p}`]:p,[`k-rounded-${Q[c]||c}`]:c,[`k-picker-${g}`]:g,"k-focus":O,"k-disabled":R,"k-invalid":!k,"k-loading":M,"k-required":this.required}),style:s?{...t,width:void 0}:t,dir:l,onMouseDown:f?e=>{"INPUT"!==e.target.nodeName&&(this.focusElement(this.base.wrapper),e.preventDefault())}:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:(0,n.pN)(D,R),accessKey:this.props.accessKey,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onClick:R?void 0:this.handleWrapperClick,role:"combobox","aria-required":this.required,"aria-disabled":R||void 0,"aria-haspopup":"listbox","aria-expanded":f||!1,"aria-owns":this._listboxId,"aria-activedescendant":f?"option-"+this._guid+"-"+(_+(d?d.skip:0)):void 0,"aria-label":this.props.ariaLabel||this.props.label,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy||this._inputId,id:this.props.id,title:this.props.title},P,M&&a.createElement(n.aO,{className:"k-input-loading-icon",name:"loading"}),a.createElement(u.zx,{tabIndex:-1,type:"button","aria-label":e,"aria-hidden":!0,size:p,fillMode:g,iconClass:N,className:"k-input-button",rounded:null,themeColor:"base",icon:N?void 0:"caret-alt-down",svgIcon:N?this.props.svgIcon:r.M7i,onMouseDown:e=>this.state.focused&&e.preventDefault()}),this.dummySelect(b),!x&&this.renderListContainer()),x&&this.renderAdaptiveListContainer());return s?a.createElement(o._b,{label:s,editorValue:y,editorValid:k,editorDisabled:this.props.disabled,style:{width:t?t.width:void 0},children:z}):z}onNavigate(e,t,i){let{data:s=[],defaultItem:a,dataItemKey:l,virtual:n={skip:0,total:0,pageSize:0}}=this.props,o=this.base.vs,r=this.value,d=s.findIndex(e=>F(e,r,l)),p=this.base.navigation.navigate({current:n.skip+d,max:(o.enabled?n.total:s.length)-1,min:void 0!==a?-1:0,keyCode:t,skipItems:i||void 0});void 0!==p&&this.handleItemSelect(p,e),this.applyState(e)}renderAdaptiveListContainer(){let{windowWidth:e=0}=this.state,{header:t,footer:i,size:s,adaptiveTitle:l,groupField:o,groupStickyHeaderItemRender:d,list:p,data:h=[]}=this.props,g=void 0!==this.props.opened?this.props.opened:this.state.opened,{group:v}=this.state;return void 0===v&&void 0!==o&&(v=S(h[0],o)),a.createElement(a.Fragment,null,a.createElement(c.Vb,{navigatable:!1,navigatableElements:[],expand:g,animation:!0,onClose:e=>this.handleWrapperClick(e),animationStyles:e<=500?{top:0,width:"100%",height:"100%"}:void 0,className:e<=500?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},a.createElement(c.nL,{className:"k-text-center"},a.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},a.createElement("div",{className:"k-actionsheet-title"},a.createElement("div",null,l)),a.createElement("div",{className:"k-actionsheet-actions"},a.createElement(u.zx,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.handleWrapperClick,icon:"x",svgIcon:r.FZE}))),a.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},this.renderListFilter())),a.createElement(c.MG,{className:"!k-overflow-hidden"},t&&a.createElement("div",{className:"k-list-header"},t),a.createElement("div",{className:(0,n.AK)("k-list",{[`k-list-${Z[s]||s}`]:s,"k-virtual-list":this.base.vs.enabled})},this.renderDefaultItem(),!p&&v&&0!==h.length&&a.createElement(f,{group:v,groupMode:"modern",render:d}),this.renderList()),i&&a.createElement("div",{className:"k-list-footer"},i))))}getFocusedIndex(){let e=this.value,{data:t=[],textField:i,dataItemKey:s,virtual:a={skip:0},focusedItemIndex:l=x,filterable:n,skipDisabledItems:o=!0}=this.props,r=this.props.filter?this.props.filter:this.state.text;return o&&i&&!r&&!e?t.findIndex(e=>!e.disabled&&e[i]):b(e)&&void 0===r||n&&""===r?t.findIndex(t=>F(t,e,s)):r?this._lastKeypressIsFilter?l(t,r,i):t.findIndex(t=>F(t,e,s)):0===a.skip?0:-1}focusElement(e){this._skipFocusEvent=!0,e.focus(),window.setTimeout(()=>this._skipFocusEvent=!1,30)}triggerOnChange(e,t){F(this.value,e,this.props.dataItemKey)||(void 0===this.props.value&&(t.data.value=e),this._valueDuringOnChange=e,t.events.push({type:"onChange"}))}applyState(e){this.base.applyState(e),this._valueDuringOnChange=void 0}calculateMedia(e){for(let t of e)this.setState({windowWidth:t.target.clientWidth})}resetValueIfDisabledItem(){let{data:e=[]}=this.props,t=this.base.initState(),i=this.getFocusedIndex();this.haveFocusedItemAndDataNotEmpty(e,i)&&(this.triggerOnChange(null,t),this.applyState(t))}haveFocusedItemAndDataNotEmpty(e,t){return void 0!==t&&-1!==t&&e&&e.length>0&&e[t].disabled}};J.displayName="DropDownList",J.propTypes={delay:l.number,ignoreCase:l.bool,iconClassName:l.string,svgIcon:n.wi,defaultItem:l.any,valueRender:l.func,valueMap:l.func,validationMessage:l.string,required:l.bool,id:l.string,ariaLabelledBy:l.string,ariaDescribedBy:l.string,ariaLabel:l.string,leftRightKeysNavigation:l.bool,title:l.string,groupField:l.string,list:l.any,skipDisabledItems:l.bool,...Y.propTypes},J.defaultProps={delay:500,tabIndex:0,ignoreCase:!0,...Y.defaultProps,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern"};let X=(0,n.Y7)(),ee=(0,n.kz)((0,n.uI)(X,J));ee.displayName="KendoReactDropDownList";class et extends a.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(e){let t=e.value,i=e.suggestedText,{value:s,suggestedText:a,focused:l}=this.props,o=this.input,r=t!==s||a!==i,d=r&&t.startsWith(s)&&!(i&&a&&i.endsWith(a)),p=(0,n.vY)(document);l&&o&&p!==o&&o.focus(),a&&r&&!d&&o&&o.setSelectionRange(s.length-a.length,s.length)}render(){let{expanded:e=!1,disabled:t,role:i="listbox",render:s}=this.props,l=a.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:"k-input-inner",tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,role:i,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:e=>this._input=e,onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":t||void 0,disabled:t||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":e,"aria-owns":this.props.owns,"aria-activedescendant":e?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-required":this.props.ariaRequired});return s?s.call(void 0,l):l}}class ei extends a.Component{constructor(){super(...arguments),this.onMouseDown=e=>e.preventDefault()}render(){let e=(0,h.uE)(this).toLanguageString(B,W[B]);return a.createElement("span",{className:"k-clear-value",role:"button",onClick:this.props.onClick,onMouseDown:this.onMouseDown,tabIndex:-1,title:e,key:"clearbutton"},a.createElement(n.aO,{name:"x",icon:r.FZE}))}}(0,h.Oh)(ei);let{sizeMap:es,roundedMap:ea}=n.kendoThemeMaps,el=class extends a.Component{constructor(e){super(e),this.state={},this.base=new Y(this),this._element=null,this._suggested="",this._skipBlur=!1,this._input=null,this._adaptiveFilterInput=null,this.itemHeight=0,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{let{data:i=[],virtual:s,dataItemKey:a}=this.props,l=i[e-(s?s.skip:0)],n=!F(l,this.value,a);this.triggerOnChange(l,t),void 0!==this.state.text&&(t.data.text=void 0),n&&this.base.triggerPageChangeCornerItems(l,t)},this.onPopupOpened=()=>{setTimeout(()=>{this.mobileMode&&this._adaptiveFilterInput&&(this._skipBlur=!0,this._adaptiveFilterInput.focus(),this._skipBlur=!1)},300)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.toggleBtnClick=e=>{let{data:t=[],skipDisabledItems:i,textField:s}=this.props,a=this.getFocusedIndex(),l=this.getCurrentValueDisabledStatus(s,t,a),n=void 0!==this.props.opened?this.props.opened:this.state.opened,o=this.base.initState();if(o.syntheticEvent=e,!i&&s&&l&&this.clearValueOnToggleBtnClick(e),this.base.togglePopup(o),!n&&this.mobileMode){let e=void 0!==this.props.adaptiveFilter?this.props.adaptiveFilter:this.state.text||null;this.base.filterChanged(e,o)}this.applyState(o)},this.renderMobileListFilter=()=>{let e=void 0!==this.props.adaptiveFilter?this.props.adaptiveFilter:this.state.text,t=S(this.value,this.props.textField),i=b(e)?e:t;return a.createElement(m,{value:i,ref:e=>this._adaptiveFilterInput=e&&e.element,onChange:this.handleMobileFilterChange,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode})},this.handleMobileFilterChange=e=>{let t=this.base.initState();t.syntheticEvent=e.syntheticEvent,t.data.text=e.target.value,this.base.filterChanged(e.target.value,t),this.applyState(t)},this.onScroll=e=>{let{vs:t,list:i}=this.base;t.scrollHandler(e);let{groupField:s}=this.props,{data:a=[]}=this.props;if(!s||!a.length)return;let l=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:i?i.children[0].offsetHeight:0),n=e.target.scrollTop-t.skip*l;"modern"===this.props.groupMode&&(a=this.base.getGroupedDataModernMode(a,s));let o=a[0][s];for(let e=1;e<a.length&&!(l*e>n);e++)a[e]&&a[e][s]&&(o=a[e][s]);o!==this.state.group&&(this.setState({group:o}),this.props.onGroupScroll&&this.props.onGroupScroll.call(void 0,{group:o}))},this.handleItemClick=(e,t)=>{this.base.handleItemClick(e,t),this._valueDuringOnChange=void 0},this.handleBlur=e=>{if(this.state.focused&&!this._skipBlur){let t=this.base.initState(),{textField:i,data:s=[]}=this.props,a=this.getFocusedIndex(),l=-1!==a&&this.getCurrentValueDisabledStatus(i,s,a);t.data.focused=!1,t.events.push({type:"onBlur"}),t.syntheticEvent=e,i&&l&&this.clearValueOnBlur(e),this.applyValueOnRejectSuggestions(e.currentTarget.value,t)}},this.onInputClick=e=>{let t=void 0!==this.props.opened?this.props.opened:this.state.opened,i=void 0!==this.props.adaptiveFilter?this.props.adaptiveFilter:this.state.text||null;if(!t&&this.mobileMode){let t=this.base.initState();t.syntheticEvent=e,this.base.togglePopup(t),this.base.filterChanged(i,t),this.applyState(t)}},this.onInputKeyDown=e=>{let{data:t=[],skipDisabledItems:i,textField:s,dataItemKey:a,groupField:l}=this.props,o=this.value,r=Math.max(0,t.findIndex(e=>F(e,o,a))),d=e.keyCode,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=this.base.initState();if(h.syntheticEvent=e,!e.altKey&&(d===n.R8.up||d===n.R8.down)){if(e.preventDefault(),""!==l&&s){if(!this.props.skipDisabledItems&&p)this.onNavigate(h,d);else{let e=0;if(d===n.R8.down||d===n.R8.right){let i=t.slice(r+1).find(e=>!e.disabled&&e[s]);e=i&&t.findIndex(e=>e[s]===i[s])}else if(d===n.R8.up||d===n.R8.left){let i;if(0===r)i=t,e=t.findIndex(e=>!e.disabled&&e[s]);else{let a=(i=t.slice(0,r)).pop();for(;a&&a.disabled;)a=i.pop();e=a&&t.findIndex(e=>e[s]===a[s])}}if(void 0!==e){let t=e-r;this.onNavigate(h,d,t)}else void 0===e&&t.findIndex(e=>e[s]===o[s])===t.length-1&&this.onNavigate(h,d)}}else if(!this.props.skipDisabledItems&&p)this.onNavigate(h,d);else{let e=null;if(d===n.R8.down||d===n.R8.right)e=t.slice(r+1).find(e=>!e.disabled);else if(d===n.R8.up||d===n.R8.left){let i=t.slice(0,r);for(e=i.pop();e&&e.disabled;)e=i.pop()}if(e){let t=e.id-r-1;this.onNavigate(h,d,t)}else this.onNavigate(h,d)}this.applyState(h)}let u=()=>{e.preventDefault(),this.base.togglePopup(h),this.applyState(h)},c=this.getFocusedIndex(),g=-1===c,v=!g&&this.getCurrentValueDisabledStatus(s,t,c);p?d===n.R8.pageUp?this.base.scrollPopupByPageSize(-1):d===n.R8.pageDown?this.base.scrollPopupByPageSize(1):e.altKey&&d===n.R8.up?u():d===n.R8.enter?(e.preventDefault(),(s&&!g&&e.currentTarget.value?t[c][s]:void 0)?!i&&s&&v?this.clearValueOnEnterOrEsc(e):v||this.applyValueOnEnter(e.currentTarget.value,h):this.applyValueOnEnter(e.currentTarget.value,h)):d===n.R8.esc&&(!i&&s&&v&&this.clearValueOnEnterOrEsc(e),this.applyValueOnRejectSuggestions(e.currentTarget.value,h)):p||d!==n.R8.esc?e.altKey&&d===n.R8.down&&u():this.clearValueOnEnterOrEsc(e)},this.inputOnChange=e=>{let t=this.base.initState();t.syntheticEvent=e;let i=void 0!==this.props.opened?this.props.opened:this.state.opened,s=e.currentTarget,a=s.value;if(this.props.suggest){let e=s.selectionEnd===a.length,t=void 0!==this.props.filter?this.props.filter:this.state.text;b(t)||(t=S(this.value,this.props.textField)||"");let i=t&&t===a,l=t&&t.length>a.length;i||l||!e?this._suggested="":this.suggestValue(a)}void 0===this.props.filter&&(t.data.text=a),void 0!==this.state.focusedItem&&(t.data.focusedItem=void 0),i||this.base.togglePopup(t),this.base.filterChanged(a,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.clearValueOnEnterOrEsc=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.clearValueOnBlur=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.clearValueOnToggleBtnClick=e=>{this.base.initState().syntheticEvent=e,e.stopPropagation(),this.clearValue()},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},(0,n.sc)(j)}get _inputId(){return this.props.id}get document(){if(n.Nq)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=768&&this.props.adaptive)}get value(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:void 0}get index(){let{data:e=[],dataItemKey:t}=this.props,i=this.value;return e.findIndex(e=>F(e,i,t))}get name(){return this.props.name}get validity(){let e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:el.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:el.defaultProps.required}componentDidUpdate(e,t){var i;let{dataItemKey:s,virtual:a,groupField:l="",data:n=[],textField:o}=this.props,r=e.virtual?e.virtual.total:0,d=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==e.opened?e.opened:t.opened,h=!p&&d,u=this.value;if(this._valueOnDidUpdate=u,a&&a.total!==r)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let r=void 0!==e.value?e.value:t.value,c=n.findIndex(e=>F(e,u,s));"modern"===this.props.groupMode&&o&&u&&(c=null==(i=this.base.getGroupedDataModernMode(n,l))?void 0:i.map(e=>e[o]).indexOf(u[o]));let g=!F(r,u,s);h&&a?this.base.scrollToVirtualItem(a,c):h&&!a?(this.onPopupOpened(),n&&0!==n.length&&this.base.resetGroupStickyHeader(n[0][l],this),this.base.scrollToItem(c)):d&&p&&u&&g&&this.base.scrollToItem(c)}h&&this._input&&this._input.focus(),this.setValidity()}componentDidMount(){var e;this.observerResize=n.Nq&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){let e=(0,h.uE)(this).toLanguageString(H,W[H]),t=(0,h.uE)(this).toLanguageString(V,W[V]),{dir:i,disabled:s,clearButton:l=el.defaultProps.clearButton,label:d,textField:p,adaptive:c,className:g,style:v,loading:m,iconClassName:f,virtual:y,size:k,rounded:C,fillMode:I,opened:x=this.state.opened,placeholder:E}=this.props,{windowWidth:w=0}=this.state,R=!this.validityStyles||this.validity.valid,F=void 0!==this.props.filter?this.props.filter:this.state.text,D=S(this.value,p),M=b(F)?F:D,N=l&&(!!M||b(this.value)),T=this.base.vs,O=this.props.id||this._inputId,_=w<=768&&c;T.enabled=void 0!==y,void 0!==y&&(T.skip=y.skip,T.total=y.total,T.pageSize=y.pageSize);let K=a.createElement(a.Fragment,null,a.createElement("span",{className:(0,n.AK)("k-combobox k-input",{[`k-input-${es[k]||k}`]:k,[`k-rounded-${ea[C]||C}`]:C,[`k-input-${I}`]:I,"k-invalid":!R,"k-loading":m,"k-required":this.required,"k-disabled":s},g),ref:this.componentRef,style:d?{...v,width:void 0}:v,dir:i},this.renderSearchBar(M||"",O,E),N&&!m&&a.createElement(ei,{onClick:this.clearButtonClick,key:"clearbutton"}),m&&a.createElement(n.aO,{className:"k-input-loading-icon",name:"loading",key:"loading"}),a.createElement(u.zx,{tabIndex:-1,type:"button","aria-label":x?t:e,icon:f?void 0:"caret-alt-down",svgIcon:f?this.props.svgIcon:r.M7i,iconClass:f,size:k,fillMode:I,rounded:null,themeColor:"base",className:"k-input-button",onClick:this.toggleBtnClick,onMouseDown:e=>e.preventDefault()}),!_&&this.renderListContainer()),_&&this.renderAdaptiveListContainer());return d?a.createElement(o._b,{label:d,editorId:O,editorValue:M,editorValid:R,editorDisabled:s,style:{width:v?v.width:void 0},children:K}):K}onNavigate(e,t,i){let{data:s=[],virtual:a={skip:0}}=this.props,l=this.props.filter?this.props.filter:this.state.text,n=this.getFocusedIndex(),o=this.base.vs,r=this.value;if(this._suggested="",-1===n||b(r)){if(""===l)this.handleItemSelect(0,e);else{let l=a.skip+n,r=this.base.navigation.navigate({keyCode:t,current:l,max:(o.enabled?o.total:s.length)-1,min:0,skipItems:i||void 0});void 0!==r&&this.handleItemSelect(r,e)}}else this.handleItemSelect(n,e)}getCurrentValueDisabledStatus(e,t,i){return e&&t&&t[i]&&t[i].disabled}applyValueOnEnter(e,t){let i;let{data:s=[],textField:a,allowCustom:l}=this.props,n=void 0!==this.props.opened?this.props.opened:this.state.opened,o=S(this.value,a)===e?this.index:E(s,e,a);if(this._suggested="",-1!==o)i=s[o];else{if(!l)return this.selectFocusedItem(e,t);i=void 0!==a?{[a]:e}:e}this.triggerOnChange(i,t),n&&this.base.togglePopup(t),void 0===this.props.filter&&void 0!==this.state.text&&(t.data.text=void 0),this.applyState(t)}applyValueOnRejectSuggestions(e,t){let{data:i=[],textField:s,allowCustom:a}=this.props,l=void 0!==this.props.opened?this.props.opened:this.state.opened,n=S(this.value,s),o=this.state.windowWidth&&this.state.windowWidth<=768;if(this._suggested="",e===n||""===e&&!b(n))return l&&!o&&this.base.togglePopup(t),this.applyState(t);let r=E(i,e,s,!0),d=null;-1!==r?d=i[r]:a&&(d=e?s?{[s]:e}:e:null),this.triggerOnChange(d,t),void 0!==this.state.text&&(t.data.text=void 0,this.base.filterChanged("",t)),l&&!o&&this.base.togglePopup(t),this.applyState(t)}selectFocusedItem(e,t){let i=void 0!==this.props.opened?this.props.opened:this.state.opened,{data:s=[],textField:a,virtual:l={skip:0},focusedItemIndex:n=x}=this.props,o=l.skip,r=""===e&&0===o?0:n(s,e,a);return -1!==r?this.handleItemSelect(r+o,t):(this.triggerOnChange(null,t),void 0!==this.state.text&&(t.data.text=void 0)),i&&this.base.togglePopup(t),this.applyState(t)}renderAdaptiveListContainer(){let{windowWidth:e=0}=this.state,{header:t,footer:i,size:s,data:l=[],groupField:o,groupMode:d,list:p,virtual:h,adaptiveTitle:g,groupStickyHeaderItemRender:v}=this.props,m=void 0!==this.props.opened?this.props.opened:this.state.opened,{group:b}=this.state;return void 0===b&&void 0!==o&&(b=S(l[0],o)),a.createElement(a.Fragment,null,a.createElement(c.Vb,{navigatable:!1,navigatableElements:[],expand:m,animation:!0,onClose:e=>this.toggleBtnClick(e),animationStyles:e<=500?{top:0,width:"100%",height:"100%"}:void 0,className:e<=500?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},a.createElement(c.nL,{className:"k-text-center"},a.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},a.createElement("div",{className:"k-actionsheet-title"},a.createElement("div",null,g)),a.createElement("div",{className:"k-actionsheet-actions"},a.createElement(u.zx,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.toggleBtnClick,icon:"x",svgIcon:r.FZE}))),a.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},this.renderMobileListFilter())),a.createElement(c.MG,{className:"!k-overflow-hidden"},a.createElement("div",{className:"k-list-container"},a.createElement("div",{className:(0,n.AK)({"k-list":!p,"k-list-lg":!0,"k-virtual-list":h,"k-data-table":p,[`k-table-${es[s]||s}`]:p&&s})},t&&a.createElement("div",{className:"k-table-header"},t),!p&&b&&0!==l.length&&a.createElement(f,{group:b,groupMode:d,render:v}),this.renderList(),i&&a.createElement("div",{className:"k-list-footer"},i))))))}renderListContainer(){let e=this.base,{dir:t,header:i,footer:s,data:l=[],groupField:o,groupMode:r,size:d,list:p,virtual:h,groupStickyHeaderItemRender:u}=this.props,c=void 0!==this.props.opened?this.props.opened:this.state.opened,g=e.getPopupSettings(),m=void 0!==g.width?g.width:e.popupWidth,{group:b}=this.state;return void 0===b&&void 0!==o&&(b=S(l[0],o)),a.createElement(v,{width:m,popupSettings:{animate:g.animate,anchor:this.element,show:c,popupClass:(0,n.AK)(g.popupClass,"k-list-container","k-combobox-popup"),className:g.className,appendTo:g.appendTo},dir:void 0!==t?t:this.base.dirCalculated,itemsCount:[l.length]},a.createElement("div",{className:(0,n.AK)({"k-list":!p,[`k-list-${es[d]||d}`]:!p&&d,"k-virtual-list":h,"k-data-table":p,[`k-table-${es[d]||d}`]:p&&d})},i&&a.createElement("div",{className:"k-table-header"},i),!p&&b&&0!==l.length&&a.createElement(f,{group:b,groupMode:r,render:u}),this.renderList(),s&&a.createElement("div",{className:(0,n.AK)({"k-list-footer":!this.props.footerClassName},this.props.footerClassName)},s)))}renderList(){let e=this.base,{textField:t,dataItemKey:i,listNoDataRender:s,itemRender:l,groupHeaderItemRender:o,data:r=[],virtual:d={skip:0,total:void 0}}=this.props,p=e.getPopupSettings(),h=e.vs,u=d.skip,c=void 0!==this.props.opened?this.props.opened:this.state.opened,g=`translateY(${h.translate}px)`,v=c?this.getFocusedIndex():void 0,m=void 0!==this.props.filter?this.props.filter:this.state.text,f=S(this.value,t),y=b(m)&&m!==f?null:this.value,k=this.props.list||$;return a.createElement(k,{id:e.listBoxId,virtual:!!d,show:c,data:r,focusedIndex:v,value:y,textField:t,valueField:i,groupField:this.props.groupField,groupMode:this.props.groupMode,isMultiColumn:this.props.isMultiColumn,optionsGuid:e.guid,listRef:e=>{h.list=this.base.list=e,this.itemHeight=0},wrapperStyle:this.state.windowWidth&&this.state.windowWidth>768?{maxHeight:p.height}:{},wrapperCssClass:(0,n.AK)("k-list-content",{"k-list-scroller":!d}),listStyle:h.enabled?{transform:g}:void 0,key:"listkey",skip:u,onClick:this.handleItemClick,itemRender:l,groupHeaderItemRender:o,noDataRender:s,onMouseDown:e=>e.preventDefault(),onScroll:this.onScroll,wrapperRef:h.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:d.total})}renderSearchBar(e,t,i){let{tabIndex:s,disabled:l,data:n=[],dataItemKey:o,virtual:r={skip:0}}=this.props,d=void 0!==this.props.opened?this.props.opened:this.state.opened,p=this.value,h=Math.max(0,n.findIndex(e=>F(e,p,o)));return this._suggested&&!F(this._valueOnDidUpdate,p,o)&&(this._suggested=""),a.createElement(et,{id:t,readOnly:d&&this.mobileMode,placeholder:i,tabIndex:s,title:this.props.title,accessKey:this.props.accessKey,value:e+this._suggested,suggestedText:this._suggested,ref:e=>this._input=e&&e.input,onClick:this.onInputClick,onKeyDown:this.onInputKeyDown,onChange:this.inputOnChange,onFocus:this.base.handleFocus,onBlur:this.handleBlur,disabled:l,expanded:d,owns:this.base.listBoxId,activedescendant:`option-${this.base.guid}-${h+r.skip}`,role:"combobox",ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.required,render:this.props.valueRender})}clearValue(){let e=this.base.initState();this._suggested="",this.base.filterChanged("",e),void 0===this.props.filter&&void 0!==this.state.text&&(e.data.text=void 0),this.triggerOnChange(null,e);let t=void 0!==this.props.opened?this.props.opened:this.state.opened,i=this.mobileMode;t&&!i&&this.base.togglePopup(e),this.applyState(e)}triggerOnChange(e,t){let i=this.value;!b(i)&&!b(e)||F(i,e,this.props.dataItemKey)||(void 0===this.props.value&&(t.data.value=e),this._valueDuringOnChange=e,t.events.push({type:"onChange"}))}getFocusedIndex(){let e=this.value,{data:t=[],textField:i,dataItemKey:s,virtual:a={skip:0},focusedItemIndex:l=x,skipDisabledItems:n}=this.props,o=this.props.filter?this.props.filter:this.state.text;return b(e)&&void 0===o?t.findIndex(t=>F(t,e,s)):o?l(t,o,i):n&&i&&!o&&0===a.skip?t.findIndex(e=>!e.disabled&&e[i]):0===a.skip?0:-1}suggestValue(e){let{data:t,textField:i}=this.props;this._suggested=M(e,t,i)}applyState(e){this.base.applyState(e),this._valueDuringOnChange=void 0}calculateMedia(e){for(let t of e)this.setState({windowWidth:t.target.clientWidth})}};el.displayName="ComboBox",el.propTypes={...Y.propTypes,size:l.oneOf([null,"small","medium","large"]),rounded:l.oneOf([null,"small","medium","large","full"]),fillMode:l.oneOf([null,"solid","flat","outline"]),dataItemKey:l.string,groupField:l.string,groupMode:l.oneOf([void 0,"classic","modern"]),isMultiColumn:l.bool,suggest:l.bool,placeholder:l.string,title:l.string,allowCustom:l.bool,clearButton:l.bool,iconClassName:l.string,svgIcon:n.wi,validationMessage:l.string,required:l.bool,id:l.string,ariaLabelledBy:l.string,ariaDescribedBy:l.string,list:l.any,valueRender:l.func,skipDisabledItems:l.bool},el.defaultProps={...Y.defaultProps,size:"medium",rounded:"medium",fillMode:"solid",allowCustom:!1,clearButton:!0,required:!1,groupMode:"modern",isMultiColumn:!1,skipDisabledItems:!0};let en=(0,n.Y7)(),eo=(0,n.kz)((0,n.uI)(en,el));eo.displayName="KendoReactComboBox";let{sizeMap:er,roundedMap:ed}=n.kendoThemeMaps,ep=class extends a.Component{constructor(e){super(e),this.state={},this.base=new Y(this),this._element=null,this._suggested="",this._input=null,this._isScrolling=!1,this.itemHeight=0,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{let{data:i=[]}=this.props,s=S(i[e],this.props.textField);this.triggerOnChange(s,t)},this.itemFocus=(e,t)=>{let{data:i=[],textField:s}=this.props,a=i[e];F(this.state.focusedItem,a,s)||(t.data.focusedItem=a)},this.togglePopup=e=>{this.base.togglePopup(e)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},this.onScroll=e=>{this._isScrolling=!0;let{list:t}=this.base,{groupField:i}=this.props,{data:s=[]}=this.props;if(!i||!s.length)return;let a=this.itemHeight||(t?t.children[0].offsetHeight:0),l=e.target.scrollTop;i&&(s=this.base.getGroupedDataModernMode(s,i));let n=s[0][i];for(let e=1;e<s.length&&!(a*e>l);e++)s[e]&&s[e][i]&&(n=s[e][i]);n!==this.state.group&&this.setState({group:n})},this.handleItemClick=(e,t)=>{this.base.handleItemClick(e,t),this._valueDuringOnChange=void 0},this.onChangeHandler=e=>{let t=this.base.initState(),i=e.currentTarget,s=i.value,a=i.selectionEnd===s.length;t.syntheticEvent=e;let l=this._suggested,n=this.value,o=n&&n.substring(0,n.length-l.length),r=o&&o===s,d=o&&o.length>s.length,{suggest:p}=this.props,h=void 0!==this.props.opened?this.props.opened:this.state.opened;if(void 0!==p&&!1!==p){r||d||!a?this._suggested="":this.suggestValue(s);let e=s+this._suggested,i={userInput:s,value:this._suggested};this.triggerOnChange(e,t,{suggestion:i})}else this._suggested="",this.triggerOnChange(s,t);(!h&&s||h&&!s)&&this.togglePopup(t),t.data.focusedItem=void 0,this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{let t=this.base.initState(),i=void 0!==this.props.opened?this.props.opened:this.state.opened;t.syntheticEvent=e,this._suggested="",this.triggerOnChange("",t),void 0!==this.state.focusedItem&&(t.data.focusedItem=void 0),i&&this.togglePopup(t),this.applyState(t)},this.onInputKeyDown=e=>{let{data:t=[],skipDisabledItems:i,groupField:s,textField:a}=this.props;this._isScrolling&&(this._isScrolling=!1);let l=this.focusedIndex(),o=t[l],r=e.keyCode,d=e.altKey,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=this.base.initState();h.syntheticEvent=e;let u=()=>{p&&e.preventDefault()};if(d&&r===n.R8.down)this.setState({opened:!0});else if(d&&r===n.R8.up)this.setState({opened:!1});else if(p&&r===n.R8.pageUp)this.base.scrollPopupByPageSize(-1);else if(p&&r===n.R8.pageDown)this.base.scrollPopupByPageSize(1);else if(p&&(r===n.R8.enter||r===n.R8.esc))u(),!1===i&&o&&o.disabled?(p&&this.togglePopup(h),this.applyState(h)):this.applyInputValue(e.currentTarget.value,h,e.keyCode);else if(p||r!==n.R8.esc){if(r===n.R8.up||r===n.R8.down){if(""!==s&&a){if(!this.props.skipDisabledItems&&p)this.onNavigate(h,r);else{let e=0;if(r===n.R8.down||r===n.R8.right){let i=t.slice(l+1).find(e=>!e.disabled&&e[a]);e=i&&t.findIndex(e=>e[a]===i[a])}else if(r===n.R8.up||r===n.R8.left){let i;if(-1===l)i=t,e=t.findIndex(e=>!e.disabled&&e[a]);else{let s=(i=t.slice(0,l)).pop();for(;s&&s.disabled;)s=i.pop();e=s&&t.findIndex(e=>e[a]===s[a])}}if(void 0!==e){let t=e-l;this.onNavigate(h,r,t)}else void 0===e&&t.findIndex(e=>e[a])===t.length-1&&this.onNavigate(h,r)}}else if(!this.props.skipDisabledItems&&p)this.onNavigate(h,r);else{let e=null;if(r===n.R8.down||r===n.R8.right)e=t.slice(l+1).find(e=>!e.disabled);else if(r===n.R8.up||r===n.R8.left){let i=t.slice(0,l);for(e=i.pop();e&&e.disabled;)e=i.pop()}if(e){let t=e.id-l-1;this.onNavigate(h,r,t)}else this.onNavigate(h,r)}this.applyState(h),u()}}else this._suggested="",this.triggerOnChange("",h),void 0!==this.state.focusedItem&&(h.data.focusedItem=void 0),this.applyState(h)},this.handleBlur=e=>{if(this.state.focused){let t=this.base.initState();t.data.focused=!1,t.events.push({type:"onBlur"}),t.syntheticEvent=e,this.applyInputValue(e.currentTarget.value,t)}},(0,n.sc)(j)}get _inputId(){return this.props.id+"-accessibility-id"}get element(){return this._element}get value(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:""}get name(){return this.props.name}get validity(){let e=void 0!==this.props.validationMessage,t=!this.required||""!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:ep.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:ep.defaultProps.required}componentDidUpdate(e,t){var i;let{groupField:s="",data:a=[]}=this.props,{data:l=[]}=e,n=this.focusedIndex(),o=a[n],r=l!==a,d=void 0!==o&&t.focusedItem!==o,p=void 0!==this.props.opened?this.props.opened:this.state.opened,h=void 0!==e.opened?e.opened:t.opened,u=!h&&p;if(""===s)(p&&(d||r)||u)&&this.base.scrollToItem(n);else if(!this._isScrolling){let e=null==(i=this.base.getGroupedDataModernMode(a,s))?void 0:i.indexOf(o);u&&(a&&0!==a.length&&this.base.resetGroupStickyHeader(a[0][s],this),this.base.scrollToItem(e)),p&&h&&d&&this.base.scrollToItem(e)}this.setValidity()}componentDidMount(){this.base.didMount(),this.setValidity()}render(){let{dir:e,disabled:t,label:i,className:s,style:l,loading:r,suggest:d,size:p,rounded:h,fillMode:u}=this.props,c=!this.validityStyles||this.validity.valid,g=this.base,v=this.value,m=!1!==this.props.clearButton&&!r&&!!v,f=this.props.id||this._inputId;"string"==typeof d&&(this._suggested=d);let b=a.createElement("span",{className:(0,n.AK)("k-autocomplete k-input",s,{[`k-input-${er[p]||p}`]:p,[`k-rounded-${ed[h]||h}`]:h,[`k-input-${u}`]:u,"k-invalid":!c,"k-loading":r,"k-required":this.required,"k-disabled":t}),ref:e=>{this._element=e,g.wrapper=e},style:i?{...l,width:void 0}:l,dir:e},this.renderSearchBar(v||"",f),r&&a.createElement(n.aO,{className:"k-input-loading-icon",name:"loading"}),m&&!r&&a.createElement(ei,{onClick:this.clearButtonClick,key:"clearbutton"}),this.renderListContainer());return i?a.createElement(o._b,{label:i,editorId:f,editorValue:v,editorValid:c,editorDisabled:t,style:{width:l?l.width:void 0},children:b}):b}onNavigate(e,t,i){let s=this.value,{data:a=[],textField:l,focusedItemIndex:n}=this.props,o=void 0!==this.state.focusedItem?a.findIndex(e=>F(e,this.state.focusedItem,l)):n?n(a,s,l):a.indexOf(D(a,s,l)),r=this.base.navigation.navigate({keyCode:t,current:o,max:a.length-1,min:0,skipItems:i||void 0});void 0!==r&&this.itemFocus(r,e),this.applyState(e)}applyInputValue(e,t,i){let s=void 0!==this.props.opened?this.props.opened:this.state.opened,{data:a=[],textField:l}=this.props,o=a[this.focusedIndex()];if(this._suggested="",s&&i===n.R8.enter&&o&&!o.disabled){let i=S(a[this.focusedIndex(e)],l);this.triggerOnChange(i,t)}s&&this.togglePopup(t),this.applyState(t)}renderSearchBar(e,t){let i=this.base,{placeholder:s,tabIndex:l,disabled:n,readonly:o}=this.props,{focused:r}=this.state,d=void 0!==this.props.opened?this.props.opened:this.state.opened;return a.createElement(et,{id:t,placeholder:s,tabIndex:l,accessKey:this.props.accessKey,value:e,suggestedText:this._suggested,focused:r,name:this.props.name,ref:e=>this._input=e&&e.input,onKeyDown:this.onInputKeyDown,onChange:this.onChangeHandler,onFocus:i.handleFocus,onBlur:this.handleBlur,disabled:n,readOnly:o,expanded:d,owns:i.listBoxId,activedescendant:"option-"+i.guid+"-"+this.focusedIndex(),role:"combobox",ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.required,render:this.props.valueRender})}renderListContainer(){let e=this.base,{dir:t,header:i,footer:s,data:l=[],size:o,groupField:r,list:d,groupStickyHeaderItemRender:p}=this.props,h=e.getPopupSettings(),u=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==h.width?h.width:e.popupWidth,{group:g}=this.state;return void 0===g&&void 0!==r&&(g=S(l[0],r)),a.createElement(v,{width:c,popupSettings:{animate:h.animate,anchor:this.element,show:u,popupClass:(0,n.AK)(h.popupClass,"k-list-container","k-autocomplete-popup"),className:h.className,appendTo:h.appendTo},dir:void 0!==t?t:this.base.dirCalculated,itemsCount:[l.length]},i&&a.createElement("div",{className:"k-list-header"},i),a.createElement("div",{className:(0,n.AK)("k-list",{[`k-list-${er[o]||o}`]:o})},!d&&g&&0!==l.length&&a.createElement(f,{group:g,groupMode:"modern",render:p}),this.renderList()),s&&a.createElement("div",{className:"k-list-footer"},s))}renderList(){let e=this.base,t=e.getPopupSettings(),{textField:i,data:s=[],listNoDataRender:l,itemRender:n,groupHeaderItemRender:o}=this.props,r=this.value,d=void 0!==this.props.opened?this.props.opened:this.state.opened;return a.createElement($,{id:e.listBoxId,show:d,data:s.slice(),focusedIndex:this.focusedIndex(),value:r,textField:i,valueField:i,highlightSelected:!1,optionsGuid:e.guid,groupField:this.props.groupField,groupMode:"modern",listRef:t=>e.list=t,wrapperStyle:{maxHeight:t.height},wrapperCssClass:"k-list-content",onClick:this.handleItemClick,itemRender:n,groupHeaderItemRender:o,noDataRender:l,onMouseDown:e=>e.preventDefault(),onScroll:this.onScroll})}triggerOnChange(e,t,i){(this.value!==e||i)&&(t.data.value=e,this._valueDuringOnChange=e,t.events.push({type:"onChange",...i||{}}))}applyState(e){this.base.applyState(e),this._valueDuringOnChange=void 0}suggestValue(e){if(this._suggested="",e){let{data:t=[],textField:i}=this.props,s=t[x(t,e,i)];if(s){let t=S(s,i);e.toLowerCase()!==t.toLowerCase()&&(this._suggested=t.substring(e.length))}}}focusedIndex(e){let{data:t=[],textField:i,focusedItemIndex:s,skipDisabledItems:a}=this.props,l=void 0!==e?e:this.value;if(void 0!==this.state.focusedItem)return t.findIndex(e=>F(e,this.state.focusedItem,i));if(s)return s(t,l,i);{let e=t.indexOf(D(t,l,i));return a&&i&&-1===e?t.findIndex(e=>!e.disabled&&e[i]):Math.max(0,e)}}};ep.displayName="AutoComplete",ep.propTypes={...Y.basicPropTypes,size:l.oneOf([null,"small","medium","large"]),rounded:l.oneOf([null,"small","medium","large","full"]),fillMode:l.oneOf([null,"solid","flat","outline"]),groupField:l.string,suggest:l.oneOfType([l.bool,l.string]),placeholder:l.string,value:l.string,defaultValue:l.string,validationMessage:l.string,required:l.bool,readonly:l.bool,clearButton:l.bool,valueRender:l.func,id:l.string,ariaLabelledBy:l.string,ariaDescribedBy:l.string,list:l.any,skipDisabledItems:l.bool},ep.defaultProps={...Y.defaultProps,size:"medium",rounded:"medium",fillMode:"solid",skipDisabledItems:!0};let eh=(0,n.Y7)(),eu=(0,n.kz)((0,n.uI)(eh,ep));eu.displayName="KendoReactAutoComplete";let ec=e=>e.syntheticEvent.preventDefault(),eg=e=>e.syntheticEvent.stopPropagation();class ev extends a.Component{render(){let{data:e,guid:t,focused:i,tagRender:s,tag:l,onTagDelete:n,size:o}=this.props;return a.createElement(a.Fragment,null,e.map((r,d)=>{let p=l?a.createElement(l,{key:r.text+d,tagData:r,guid:t,focusedTag:i,onTagDelete:n}):a.createElement(u.Af,{id:`tag-${t}-${r.text.replace(/\s+/g,"-")}`,"aria-selected":!0,role:"option","aria-setsize":e.length,key:r.text+d,text:r.text,removable:!0,onRemove:e=>n.call(void 0,r.data,e.syntheticEvent),onMouseDown:ec,onClick:eg,className:r===i?"k-focus":void 0,size:o});return s?s(r,p):p}),this.props.children)}}var em=((s=em||{})[s.PopupList=0]="PopupList",s[s.TagsList=1]="TagsList",s);let ef=e=>{let{footer:t,children:i,windowWidth:s=0,navigatable:l,navigatableElements:n,expand:o,animation:d,onClose:p,adaptiveTitle:h,mobileFilter:g}=e;return a.createElement(c.Vb,{navigatable:l||!1,navigatableElements:n||[],expand:o,animation:!1!==d,onClose:p,animationStyles:s<=500?{top:0,width:"100%",height:"100%"}:void 0,className:s<=500?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},a.createElement(c.nL,{className:"k-text-center"},a.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},a.createElement("div",{className:"k-actionsheet-title"},a.createElement("div",null,h)),a.createElement("div",{className:"k-actionsheet-actions"},a.createElement(u.zx,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:r.FZE,onClick:p}))),g&&a.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},g)),i,t&&a.createElement(c.Ku,{className:"k-actions k-actions-stretched"},a.createElement(u.zx,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),a.createElement(u.zx,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))},{sizeMap:eb,roundedMap:ey}=n.kendoThemeMaps,ek=e=>e.preventDefault(),eC=e=>2===e,eI=class extends a.Component{constructor(e){super(e),this.state={activedescendant:em.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new Y(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.localization=null,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{let{data:i=[],dataItemKey:s,virtual:a}=this.props,l=i[e-(a?a.skip:0)],n=this.value.findIndex(e=>F(e,l,s));this._lastSelectedOrDeslectedItemIndex=i.findIndex(e=>F(e,l,s));let o=[];-1!==n?(o=this.value).splice(n,1):o=[...this.value,l],(void 0!==this.props.filter?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.triggerOnChange(o,t),this.base.triggerPageChangeCornerItems(l,t)},this.onTagDelete=(e,t)=>{let i=this.base.initState();i.syntheticEvent=t,this.opened&&this.base.togglePopup(i),this.state.focused||this.mobileMode||(i.data.focused=!0,this.focus());let s=this.value;R(s,e,this.props.dataItemKey),this.triggerOnChange(s,i),this.applyState(i)},this.itemFocus=(e,t)=>{let{data:i=[],allowCustom:s,virtual:a}=this.props,l=a?a.skip:0,n=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedIndex:o}=this.getFocusedState(),r=i[e-l];r&&o!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=em.PopupList):s&&n&&-1===e&&void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(r,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{let t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout(()=>t.focus(),0)},this.onChangeHandler=e=>{let t=this.base.initState(),i=e.target.value;t.syntheticEvent=e,void 0===this.props.filter&&(t.data.text=i),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(i,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{let t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);let i=void 0!==this.props.filter?this.props.filter:this.state.text;b(i)&&""!==i&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{let{data:t=[],textField:i,groupField:s}=this.props,a=e.keyCode,l=void 0!==this.props.filter?this.props.filter:this.state.text,o=void 0!==this.props.opened?this.props.opened:this.state.opened,{focusedItem:r,focusedIndex:d}=this.getFocusedState(),p=this.base.initState();if(p.syntheticEvent=e,!l&&this.value.length>0&&(a===n.R8.left||a===n.R8.right||a===n.R8.home||a===n.R8.end||a===n.R8.delete||a===n.R8.backspace)&&!e.shiftKey)return this.onTagsNavigate(e,p);let h=()=>{e.preventDefault(),this.base.togglePopup(p),this.applyState(p)};if(this.opened){if(a===n.R8.pageUp)this.base.scrollPopupByPageSize(-1);else if(a===n.R8.pageDown)this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&"KeyA"===e.code){let e=(this.state.value&&this.state.value.length)===t.length?[]:t;this.updateStateOnKeyboardNavigation(e,p)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===n.R8.end){let e=t.slice(this.getFocusedState().focusedIndex);this.itemFocus(t.length-1,p),this.updateStateOnKeyboardNavigation(e,p)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===n.R8.home){let e=t.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,p),this.updateStateOnKeyboardNavigation(e,p)}else if(e.shiftKey&&e.keyCode===n.R8.up){let e;let i=this.getLastSelectedOrDeselectedIndex(1,d);null===i?e=0!==d?t.slice(d-1,d):[t[d]]:i===d?e=[t[i-1]]:d>=0&&(e=i>d?t.slice(d-1,i):t.slice(i-1,d)),e&&e.length>0&&(d>=1&&this.itemFocus(d-1,p),this.updateStateOnKeyboardNavigation(e,p))}else if(e.shiftKey&&e.keyCode===n.R8.down){let e;let i=this.getLastSelectedOrDeselectedIndex(0,d);null===i?e=d!==t.length-1?t.slice(d,d+1):[t[d]]:i===d?e=t.slice(d,d+2):d>=0&&(e=i>d?t.slice(d+1,i+1):t.slice(i,d+2)),e&&e.length>=1&&(this.itemFocus(d+1,p),this.updateStateOnKeyboardNavigation(e,p))}else if(e.altKey&&a===n.R8.up)h();else if(a===n.R8.up||a===n.R8.down){if(""!==s&&i){if(!this.props.skipDisabledItems&&o)this.onNavigate(p,a);else{let e=0;if(a===n.R8.down||a===n.R8.right){let s=t.slice(d+1).find(e=>!e.disabled&&e[i]);e=s&&t.findIndex(e=>e[i]===s[i])}else if(a===n.R8.up||a===n.R8.left){let s;if(-1===d)s=t,e=t.findIndex(e=>!e.disabled&&e[i]);else{let a=(s=t.slice(0,d)).pop();for(;a&&a.disabled;)a=s.pop();e=a&&t.findIndex(e=>e[i]===a[i])}}if(e){let t=e-d;this.onNavigate(p,a,t)}else void 0!==e&&this.onNavigate(p,a)}}else if(!this.props.skipDisabledItems&&o)this.onNavigate(p,a);else{let e=null;if(a===n.R8.down||a===n.R8.right)e=t.slice(d+1).find(e=>!e.disabled);else if(a===n.R8.up||a===n.R8.left){let i=t.slice(0,d);for(e=i.pop();e&&e.disabled;)e=i.pop()}if(e){let t=e.id-d-1;this.onNavigate(p,a,t)}else this.onNavigate(p,a)}this.applyState(p),e.preventDefault()}else a===n.R8.enter?(e.preventDefault(),this.props.allowCustom&&l&&null===r?this.customItemSelect(e):r&&r.disabled?h():this.selectFocusedItem(e)):a===n.R8.esc&&h()}else e.altKey&&a===n.R8.down&&h()},this.listContainerContent=()=>{let{header:e,footer:t,allowCustom:i,size:s,data:l=[],groupStickyHeaderItemRender:o,groupField:d,list:p}=this.props,h=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:u}=this.getFocusedState(),c=i&&h&&a.createElement("div",{className:(0,n.AK)("k-list",{[`k-list-${eb[s]||s}`]:s}),key:"customitem",onClick:this.customItemSelect,onMouseDown:ek},a.createElement("div",{className:(0,n.AK)("k-list-item k-custom-item",{"k-focus":eC(u)}),style:{fontStyle:"italic"}},h,a.createElement(n.aO,{name:"plus",icon:r.R7U,style:{position:"absolute",right:"0.5em"}}))),{group:g}=this.state;return void 0===g&&void 0!==d&&(g=S(l[0],d)),a.createElement(a.Fragment,null,e&&a.createElement("div",{className:"k-list-header"},e),c,a.createElement("div",{className:(0,n.AK)("k-list",{[`k-list-${this.mobileMode?"lg":eb[s]||s}`]:s,"k-virtual-list":this.base.vs.enabled})},!p&&g&&0!==l.length&&a.createElement(f,{group:g,groupMode:"modern",render:o}),this.renderList()),t&&a.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{let e=this.base,{dir:t,data:i=[]}=this.props,s=this.base.getPopupSettings(),l=void 0!==s.width?s.width:e.popupWidth,o={dir:void 0!==t?t:e.dirCalculated,width:l,popupSettings:{popupClass:(0,n.AK)(s.popupClass,"k-list-container","k-multiselect-popup"),className:s.className,animate:s.animate,anchor:this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed,appendTo:s.appendTo},itemsCount:[i.length,this.value.length]};return a.createElement(v,{...o},this.listContainerContent())},this.renderAdaptiveListContainer=()=>{let{adaptiveTitle:e,filterable:t,filter:i}=this.props,{windowWidth:s=0}=this.state,l=void 0!==i?i:this.state.text;this.localization=(0,h.uE)(this);let n=t?a.createElement(m,{value:l,ref:e=>this._adaptiveInput=e&&e.element,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode}):null,o={adaptiveTitle:e,expand:this.opened,onClose:e=>this.onCancel(e),windowWidth:s,mobileFilter:n,footer:{cancelText:this.localization.toLanguageString(A,W[A]),onCancel:this.onCancel,applyText:this.localization.toLanguageString(q,W[q]),onApply:this.closePopup}};return a.createElement(ef,{...o},a.createElement(c.MG,{className:"!k-overflow-hidden"},a.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{let t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});let i=void 0!==this.props.filter?this.props.filter:this.state.text;b(i)&&""!==i&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{let t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});let i=void 0!==this.props.filter?this.props.filter:this.state.text;b(i)&&""!==i&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{let{data:e=[],textField:t,listNoDataRender:i,itemRender:s,groupHeaderItemRender:l,dataItemKey:n,virtual:o={skip:0,total:void 0}}=this.props,r=this.base.vs,{focusedIndex:d}=this.getFocusedState(),p=this.base.getPopupSettings(),h=`translateY(${r.translate}px)`;return a.createElement($,{id:this.base.listBoxId,show:this.opened,data:e.slice(),focusedIndex:d-o.skip,value:this.value,textField:t,valueField:n,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:e=>{r.list=this.base.list=e},wrapperStyle:this.mobileMode?{}:{maxHeight:p.height},wrapperCssClass:"k-list-content",listStyle:r.enabled?{transform:h}:void 0,key:"listKey",skip:o.skip,onClick:this.handleItemClick,itemRender:s,groupHeaderItemRender:l,noDataRender:i,onMouseDown:ek,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:r.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:o.total})},this.onScroll=e=>{let{vs:t,list:i}=this.base;t.scrollHandler(e);let{groupField:s}=this.props,{data:a=[]}=this.props;if(!(!s||!a.length)&&s){let l=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:i?i.children[0].offsetHeight:0),n=e.target.scrollTop-t.skip*l,o=(a=this.base.getGroupedDataModernMode(a,s))[0][s];for(let e=1;e<a.length&&!(l*e>n);e++)a[e]&&a[e][s]&&(o=a[e][s]);o!==this.state.group&&this.setState({group:o})}},this.customItemSelect=e=>{let t=void 0!==this.props.filter?this.props.filter:this.state.text,{textField:i}=this.props;if(!t)return;let s=this.base.initState();s.syntheticEvent=e,void 0!==this.state.text&&(s.data.text=""),s.data.focusedIndex=void 0,this.base.filterChanged("",s);let a=[...this.value,i?{[i]:t}:t];this.triggerOnChange(a,s),this.base.togglePopup(s),this.applyState(s)},this.handleWrapperClick=e=>{let t=this._input;!this.opened&&t&&this.focusElement(t);let i=this.base.initState();i.syntheticEvent=e,this.state.focused||this.mobileMode||(i.events.push({type:"onFocus"}),i.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout(()=>this._adaptiveInput&&this._adaptiveInput.focus(),300)),this.base.togglePopup(i),this.applyState(i)},this.handleItemClick=(e,t)=>{let i=this.base.initState();i.syntheticEvent=t,this.handleItemSelect(e,i),this.props.autoClose&&!this.mobileMode&&this.base.togglePopup(i),t.stopPropagation(),this.applyState(i)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;let t=this.base.initState(),{allowCustom:i,filterable:s}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),i||s||!this.state.text||(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout(()=>{this.state.focused&&this.focusElement(this._input)},0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},(0,n.sc)(j)}get _inputId(){return this.props.id}get document(){if(n.Nq)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get opened(){return!!(void 0!==this.props.opened?this.props.opened:this.state.opened)}get tagsToRender(){let{tags:e,textField:t}=this.props,i=[];return void 0===e?this.value.forEach(e=>{i.push({text:S(e,t),data:[e]})}):i.push(...e),i}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=768&&this.props.adaptive)}get value(){let e=[];return this._valueItemsDuringOnChange?e.push(...this._valueItemsDuringOnChange):this.props.value?e.push(...this.props.value):this.state.value?e.push(...this.state.value):this.props.defaultValue&&e.push(...this.props.defaultValue),e}get name(){return this.props.name}get validity(){let e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&this.value.length>0&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get required(){return void 0!==this.props.required?this.props.required:eI.defaultProps.required}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:eI.defaultProps.validityStyles}componentDidUpdate(e,t){var i;let{virtual:s,groupField:a="",data:l=[]}=this.props,n=s?s.skip:0,o=e.virtual?e.virtual.total:0,r=void 0!==e.opened?e.opened:t.opened,d=!r&&this.opened,p=r&&!this.opened;if(!this.base.getPopupSettings().animate&&p&&this.onPopupClosed(),s&&s.total!==o)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:e,focusedIndex:t}=this.getFocusedState();""!==a&&(t=null==(i=this.base.getGroupedDataModernMode(l,a))?void 0:i.indexOf(e)),d&&s?this.base.scrollToVirtualItem(s,t-n):d&&!s?(l&&0!==l.length&&this.base.resetGroupStickyHeader(l[0][a],this),this.base.scrollToItem(t)):this.opened&&r&&e&&this.scrollToFocused&&this.base.scrollToItem(t-n)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var e;this.observerResize=n.Nq&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(e,t,i){let{allowCustom:s,data:a=[]}=this.props,l=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:o,focusedIndex:r}=this.getFocusedState(),d=eC(o),p=this.base,h=p.vs;if(this.opened&&t===n.R8.up&&d)void 0!==this.state.focusedIndex&&(e.data.focusedIndex=void 0);else{let n=p.navigation.navigate({keyCode:t,current:r,max:(h.enabled?h.total:a.length)-1,min:s&&l?-1:0,skipItems:i||void 0});void 0!==n&&(this.itemFocus(n,e),this.scrollToFocused=!0)}this.applyState(e)}render(){let{style:e,className:t,label:i,dir:s,disabled:l,textField:r,dataItemKey:d,virtual:p,size:h,rounded:u,fillMode:c,loading:g,filter:v}=this.props,{text:m,focused:f,focusedTag:b,currentValue:y}=this.state,k=this.base.vs,C=this.props.id||this._inputId;k.enabled=void 0!==p,void 0!==p&&(k.skip=p.skip,k.total=p.total,k.pageSize=p.pageSize);let I=this.mobileMode&&this.opened?y:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);let x=!this.validityStyles||this.validity.valid,E=!!(void 0!==v?v:m)||I&&I.length>0,w=a.createElement(a.Fragment,null,a.createElement("div",{ref:this.componentRef,className:(0,n.AK)("k-multiselect k-input",t,{[`k-input-${eb[h]||h}`]:h,[`k-rounded-${ey[u]||u}`]:u,[`k-input-${c}`]:c,"k-focus":f&&!l,"k-invalid":!x,"k-disabled":l,"k-loading":g,"k-required":this.required}),style:i?{...e,width:void 0}:e,dir:s,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:N},a.createElement("div",{className:(0,n.AK)("k-input-values")},a.createElement("div",{className:(0,n.AK)("k-chip-list",{[`k-chip-list-${eb[h]||h}`]:h}),role:"listbox",id:"tagslist-"+this.base.guid},I&&I.length>0&&a.createElement(ev,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:I,guid:this.base.guid,focused:b?I.find(e=>T(e,b,d)):void 0,size:h})),this.renderSearchBar(C)),g&&a.createElement(n.aO,{className:"k-input-loading-icon",name:"loading"}),E&&a.createElement(ei,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return i?a.createElement(o._b,{label:i,editorId:C,editorValue:m||S(this.value[0],r),editorValid:x,editorDisabled:l,style:{width:e?e.width:void 0},children:w}):w}renderSearchBar(e){let{activedescendant:t,focusedTag:i,currentValue:s}=this.state,{disabled:l,placeholder:n,ariaDescribedBy:o}=this.props,r=!this.mobileMode&&(void 0!==this.props.filter?this.props.filter:this.state.text)||"",{focusedIndex:d}=this.getFocusedState(),p=0!==this.value.length||r?void 0:n,h=s&&s.length>0?void 0:n,u=t===em.TagsList&&void 0!==i?`tag-${this.base.guid}-${i.text.replace(/\s+/g,"-")}`:`option-${this.base.guid}-${d}`;return a.createElement(et,{id:e,size:Math.max((p||"").length,r.length,1),tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,placeholder:this.mobileMode&&this.opened?h:p,value:r,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:l,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:u,ariaDescribedBy:`tagslist-${this.base.guid}${o?" "+o:""}`,ariaLabelledBy:this.props.ariaLabelledBy,ariaRequired:this.required})}onTagsNavigate(e,t){let i=e.keyCode,{focusedTag:s}=this.state,a=this._tags,l=this.props.dataItemKey,o=s?a.findIndex(e=>T(e,s,l)):-1,r,d=-1!==o;if(i===n.R8.left)o=d?Math.max(0,o-1):a.length-1,r=a[o];else if(i===n.R8.right)o===a.length-1?r=void 0:d&&(o=Math.min(a.length-1,o+1),r=a[o]);else if(i!==n.R8.home||e.shiftKey){if(i!==n.R8.end||e.shiftKey){if(i===n.R8.delete){if(d){let e=this.value;R(e,a[o].data,l),this.triggerOnChange(e,t)}}else if(i===n.R8.backspace){let e=this.value;d?(R(e,a[o].data,l),this.triggerOnChange(e,t)):!d&&a.length&&(R(e,a.pop().data,l),this.triggerOnChange(e,t))}}else r=a[a.length-1]}else r=a[0];r!==s&&(t.data.focusedTag=r,t.data.activedescendant=em.TagsList),this.applyState(t)}triggerOnChange(e,t){void 0===this.props.value&&(t.data.value=[...e]),this._valueItemsDuringOnChange=[],this.setItems(e,this._valueItemsDuringOnChange),t.events.push({type:"onChange"})}selectFocusedItem(e,t){let{data:i=[],virtual:s}=this.props,{focusedIndex:a}=t||this.getFocusedState();void 0!==i[a-(s?s.skip:0)]&&this.handleItemClick(a,e)}setItems(e,t){t.length=0,t.push(...e)}getFocusedState(){let e;let{focusedIndex:t}=this.state,i=void 0!==this.props.filter?this.props.filter:this.state.text,{allowCustom:s,data:a=[],dataItemKey:l,virtual:n,textField:o,focusedItemIndex:r=x,skipDisabledItems:d}=this.props,p=n&&n.skip||0;if(void 0!==t)return{focusedIndex:t,focusedItem:a[t-p],focusedType:1};let h=this.value;if(s&&i)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(i)return e=r(a,i,o),{focusedItem:a[e],focusedIndex:e+p,focusedType:1};if(h.length){let t=h[h.length-1];return e=a.findIndex(e=>F(e,t,l)),void 0!==a[e]?{focusedIndex:e+p,focusedItem:a[e],focusedType:1}:{focusedType:0,focusedIndex:-1}}if(d&&o&&!i&&0===p){let e=a.findIndex(e=>!e.disabled&&e[o]);return{focusedIndex:e,focusedItem:a[e-p],focusedType:1}}return 0===p?{focusedItem:a[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(e){this._skipFocusEvent=!0,e.focus(),window.setTimeout(()=>this._skipFocusEvent=!1,0)}applyState(e){this.base.applyState(e),this._valueItemsDuringOnChange=null}calculateMedia(e){for(let t of e)this.setState({windowWidth:t.target.clientWidth})}updateStateOnKeyboardNavigation(e,t){this.setState({value:e}),this.triggerOnChange(e,t),this.applyState(t)}getLastSelectedOrDeselectedIndex(e,t){return null===this._lastSelectedOrDeslectedItemIndex&&(this._lastSelectedOrDeslectedItemIndex=t),null!==this._lastSelectedOrDeslectedItemIndex?this._lastSelectedOrDeslectedItemIndex+e:null}};eI.displayName="MultiSelect",eI.propTypes={...Y.propTypes,autoClose:l.bool,value:l.arrayOf(l.any),defaultValue:l.arrayOf(l.any),dataItemKey:l.string,placeholder:l.string,tags:l.arrayOf(l.shape({text:l.string,data:l.arrayOf(l.any)})),tagRender:l.func,id:l.string,ariaLabelledBy:l.string,ariaDescribedBy:l.string,groupField:l.string,list:l.any,adaptive:l.bool,adaptiveTitle:l.string,onCancel:l.func,skipDisabledItems:l.bool},eI.defaultProps={...Y.defaultProps,autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0};let ex=(0,n.Y7)();(0,n.kz)((0,n.uI)(ex,eI)).displayName="KendoReactMultiSelect";let eE=e=>a.createElement($,{...e,wrapperCssClass:"k-table-body k-table-scroller",listClassName:(0,n.AK)("k-table k-table-list",{"k-virtual-table":void 0!==e.virtual}),listStyle:{...e.listStyle}}),eS=(e,t)=>e?"number"==typeof e?e+"px":e:t,ew=(0,n.Y7)(),eR=a.forwardRef((e,t)=>{let i=(0,n.YO)(ew,e),s=a.useRef(null),l=a.useRef(null),o=(0,n.np)(),{columns:r=eD.columns,popupSettings:p=eD.popupSettings,className:h,size:u,onOpen:c,onClose:g,onFocus:v,onBlur:m,onChange:f,onFilterChange:b,onPageChange:y,...k}=i;a.useImperativeHandle(s,()=>({element:l.current&&l.current.element,focus(){l.current&&l.current.focus()},get value(){return l.current&&l.current.value},get name(){return l.current&&l.current.name},props:i})),a.useImperativeHandle(t,()=>s.current);let C=a.useMemo(()=>{if(void 0!==i.groupField&&i.data)return S(i.data[0],i.groupField)},[i.data,i.groupField]),[I,x]=a.useState(C),[E,w]=a.useState(!0),R=a.useMemo(()=>{let e=a.createElement("th",{className:"k-table-th",colSpan:r.length},I);return a.createElement(a.Fragment,null,i.header,a.createElement("div",{className:"k-table-header-wrap"},a.createElement("table",{className:"k-table",role:"presentation"},a.createElement("colgroup",null,r.map((e,t)=>a.createElement("col",{key:e.uniqueKey?e.uniqueKey:t,style:{width:e.width?e.width:eD.width}}))),a.createElement("thead",{className:"k-table-thead"},a.createElement("tr",{className:"k-table-row"},r.map((e,t)=>a.createElement("th",{className:"k-table-th",key:e.uniqueKey?e.uniqueKey:t},e.header||"\xa0"))),I&&E&&a.createElement("tr",{className:"k-table-group-row"},i.groupStickyHeaderItemRender?i.groupStickyHeaderItemRender.call(void 0,e,{}):e)))))},[i.header,r,I,E]),F=a.useMemo(()=>`calc(${r.map(e=>eS(e.width,eD.width)).filter(Boolean).join(" + ")} + ${o}px + 4px)`,[r,o]),D=i.virtual?i.virtual.skip:0,M=a.useCallback((e,t)=>{let s=r.map((e,s)=>a.createElement("span",{className:i.itemRender?void 0:"k-table-td",style:i.itemRender?void 0:{width:e.width?e.width:eD.width},key:e.uniqueKey?e.uniqueKey:s},e.field?String((0,n.Yn)(e.field)(t.dataItem)):"")),l,o,d,p,h=i.data||[],u=t.index-D;void 0!==i.groupField&&(o=(p=(0,n.Yn)(i.groupField))(h[u]),d=p(h[u-1]),o&&d&&o!==d&&(l=o)),l&&"classic"===i.groupMode&&s.push(a.createElement("div",{key:"group",className:"k-table-td k-table-group-td"},a.createElement("span",null,l)));let c=a.cloneElement(e,{...e.props,className:(0,n.AK)("k-table-row",{"k-table-alt-row":t.index%2!=0,"k-focus":t.focused,"k-selected":t.selected,"k-first":!!l,"k-disabled":t.dataItem.disabled})},s);return i.itemRender?i.itemRender.call(void 0,c,t):c},[r,i.groupField,i.itemRender,i.data,D]),N=a.useCallback((e,t)=>{e&&e.call(void 0,{...t,target:s.current})},[]),T=a.useCallback(e=>(i.virtual||x(C),N(c,e)),[N,c,i.virtual,C]),O=a.useCallback(e=>N(g,e),[g]),_=a.useCallback(e=>N(v,e),[v]),K=a.useCallback(e=>N(m,e),[m]),P=a.useCallback(e=>N(f,e),[f]),z=a.useCallback(e=>N(y,e),[y]),B=a.useCallback(e=>(x(C),N(b,{...e,mobileMode:e.target.mobileMode})),[b]),H=a.useCallback(e=>{x(e.group)},[]);a.useEffect(()=>{(0,n.pp)()}),a.useEffect(()=>{let e=i.data;x(C),e&&0!==e.length?w(!0):w(!1)},[i.data]);let V=a.useCallback(e=>a.createElement(eE,{...e}),[]);return a.createElement(d.vH.Provider,{value:e=>({...e,popupClass:`k-dropdowngrid-popup ${p.popupClass}`})},a.createElement(eo,{...k,list:V,popupSettings:{width:F,...p,className:p.className},ref:l,header:R,itemRender:M,groupHeaderItemRender:i.groupHeaderItemRender,size:i.size,rounded:i.rounded,fillMode:i.fillMode,groupMode:i.groupMode,groupField:i.groupField,isMultiColumn:!0,onOpen:T,onClose:O,onFocus:_,onBlur:K,onChange:P,onFilterChange:B,onPageChange:z,onGroupScroll:H,className:(0,n.AK)("k-dropdowngrid",h),required:i.required,adaptive:i.adaptive,adaptiveFilter:i.adaptiveFilter,adaptiveTitle:i.adaptiveTitle,footer:i.footer,footerClassName:"k-table-footer"}))}),eF={...el.propTypes,columns:l.any.isRequired},eD={columns:[],popupSettings:{},width:"200px",size:"medium",rounded:"medium",fillMode:"solid"};function eM(e,t,i){let[s,l]=a.useState(t);return a.useEffect(()=>{void 0!==s&&e.current&&l(e.current.offsetWidth)},i),s}eR.displayName="KendoMultiColumnComboBox",eR.propTypes=eF,eR.defaultProps=eD;let eN=e=>a.createElement("div",{className:"k-nodata"},a.createElement("div",null,e.children)),{sizeMap:eT,roundedMap:eO}=n.kendoThemeMaps,e_=e=>a.createElement("span",{className:"k-input-value-text"},e.children),eK=e=>e.split("_").map(e=>parseInt(e,10)),eP=(e,t)=>{let{validationMessage:i,valid:s,required:a}=e;return{customError:void 0!==i,valid:!!(void 0!==s?s:!a||t),valueMissing:!t}},ez={selectField:"selected",subItemsField:"items",popupSettings:{animate:!0,width:"200px",height:"200px"},data:[],required:!1,style:{},validityStyles:!0,size:"medium",rounded:"medium",fillMode:"solid"},eB=(0,n.Y7)(),eH=a.forwardRef((e,t)=>{(0,n.sc)(j);let i=(0,n.YO)(eB,e),s={...ez,...i},l=(0,n.Me)(),p=s.id||l,{data:v,dataItemKey:f,popupSettings:y,style:k,opened:C,disabled:I,onOpen:x=n.UH,onClose:E=n.UH,placeholder:w,label:R,name:D,selectField:M,subItemsField:N,validationMessage:T,valid:O,required:_,validityStyles:K}=s,P=(0,n.pN)(s.tabIndex,I),H=a.useRef(null),V=a.useRef(null),L=a.useRef(null),q=a.useRef(null),A=a.useRef(null),$=a.useRef(null),U=a.useRef(!1),[G,Y]=a.useState(void 0),Z=void 0!==s.value,Q=Z?s.value:void 0!==G?G:s.defaultValue,J=b(Q),X=J?S(Q,s.textField):"",ee=eP({validationMessage:T,valid:O,required:_},J),et=a.useCallback(()=>V.current&&V.current.focus(),[]);a.useImperativeHandle(H,()=>({props:s,element:V.current,focus:et})),a.useImperativeHandle(t,()=>H.current);let ei=(0,n.Vw)(V,s.dir),es={width:eM(V,void 0!==y.width?y.width:void 0!==k.width?k.width:ez.popupSettings.width),...void 0!==ei?{direction:ei}:{}},[ea,el]=a.useState(!1),en=void 0!==C?C:ea,[eo,er]=a.useState(!1),[ed,ep]=a.useState(),eh=!!(ed&&ed<=768&&s.adaptive),[eu,ec]=a.useState(""),eg=a.useCallback(()=>{A.current&&A.current.setCustomValidity&&A.current.setCustomValidity(ee.valid?"":void 0===T?"Please select a value from the list!":T)},[T,ee]);a.useEffect(eg),a.useEffect(()=>{let e=n.Nq&&window.ResizeObserver&&new window.ResizeObserver(eq.bind(void 0));return null!=document&&document.body&&e&&e.observe(document.body),()=>{null!=document&&document.body&&e&&e.disconnect()}},[]);let ev=a.useCallback(e=>{if(!en){if(x){let t={...e};x.call(void 0,t)}void 0===C&&el(!0)}},[en,C,x]),em=a.useCallback(e=>{if(en){if(E){let t={...e};E.call(void 0,t)}void 0===C&&(el(!1),eh&&setTimeout(()=>{var e;eI(null==(e=q.current)?void 0:e.element)},300))}},[en,C,E,eh]),eb=a.useCallback(e=>{!e.isDefaultPrevented()&&H.current&&(er(!0),(en?em:ev)({syntheticEvent:e,nativeEvent:e.nativeEvent,target:H.current}))},[en,C,x,E]),ey=a.useCallback(e=>{U.current=!0,e(),window.setTimeout(()=>U.current=!1,0)},[]),ek=a.useCallback(e=>{var t,i;let{keyCode:s,altKey:a}=e,l=$.current&&$.current.element;if(!H.current||e.isDefaultPrevented()&&(null==(t=L.current)?void 0:t.element)===e.target)return;let o={syntheticEvent:e,nativeEvent:e.nativeEvent,target:H.current};if(en){if(s===n.R8.esc||a&&s===n.R8.up)e.preventDefault(),em(o);else if(l&&l.querySelector(".k-focus")&&(s===n.R8.up||s===n.R8.down||s===n.R8.left||s===n.R8.right||s===n.R8.home||s===n.R8.end)){if(s===n.R8.up&&null!=(i=L.current)&&i.element){let e=Array.from(l.querySelectorAll(".k-treeview-item")),t=[...e].reverse().find(e=>!!(e&&e.querySelector(".k-focus")));if(t&&0===e.indexOf(t))return ey(()=>{var e;eI(null==(e=L.current)?void 0:e.element)})}ey(n.UH)}else s===n.R8.down&&ey(()=>{var e;eI((null==(e=L.current)?void 0:e.element)||l)})}else a&&s===n.R8.down?(e.preventDefault(),ev(o)):en||s===n.R8.esc&&eH(e)},[en,C,x,E]),eC=a.useCallback(e=>{let{keyCode:t,altKey:i}=e;i||t!==n.R8.up&&t!==n.R8.down||(e.preventDefault(),ey(t===n.R8.up?()=>{eI(V.current)}:()=>{eI($.current&&$.current.element)}))},[]),eI=a.useCallback(e=>{e&&ey(()=>e.focus())},[]),ex=a.useCallback(()=>{var e;eo||!en||C?i.filterable?eI(null==(e=L.current)?void 0:e.element):eI($.current&&$.current.element):em({target:H.current})},[E,i.filterable,eo,C,en]),eE=a.useCallback(()=>{eo&&eI(V.current)},[eo]),eS=a.useCallback(e=>{if(!eo&&!U.current&&(er(!0),i.onFocus&&H.current)){let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:H.current};i.onFocus.call(void 0,t)}},[eo,i.onFocus]),ew=a.useCallback(e=>{if(eo&&!U.current&&H.current){er(!1);let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:H.current};if(i.onBlur){let e={...t};i.onBlur.call(void 0,e)}eh||em(t)}},[eo,i.onBlur,en,C,E]),eR=a.useCallback(()=>{eo&&ey(n.UH),eh&&setTimeout(()=>{var e;eI(null==(e=q.current)?void 0:e.element)},300)},[eo,eh]),eF=a.useCallback((e,t,s)=>{if(i.onChange){let a={value:t,level:s?eK(s):[],...e};i.onChange.call(void 0,a)}Z||Y(t)},[i.onChange,Z]),eD=a.useCallback(e=>{if(F(e.item,Q,f)||!H.current)return;let{item:t,itemHierarchicalIndex:i,nativeEvent:s,syntheticEvent:a}=e,l={syntheticEvent:a,nativeEvent:s,target:H.current};eF(l,t,i),em(l)},[Z,Q,i.onChange,f,en,C,E]),eH=a.useCallback(e=>{if(!H.current)return;let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:H.current};eF(t,null),em(t),e.preventDefault()},[Z,i.onChange,en,C,E]),eV=a.useCallback(e=>{if(e.syntheticEvent.stopPropagation(),i.onExpandChange&&H.current){let{item:t,itemHierarchicalIndex:s,nativeEvent:a,syntheticEvent:l}=e,n={level:eK(s),item:t,nativeEvent:a,syntheticEvent:l,target:H.current};i.onExpandChange.call(void 0,n)}},[i.onExpandChange]),eL=a.useCallback(e=>{if(i.onFilterChange&&H.current){let t={filter:{field:i.textField,operator:"contains",value:e.target.value},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:H.current};i.onFilterChange.call(void 0,t),void 0===i.filter&&ec(e.target.value)}},[i.onFilterChange,i.filter,i.textField]),eq=a.useCallback(e=>{for(let t of e)ep(t.target.clientWidth)},[]),eA=a.useMemo(()=>Z||!J?v:(0,n.Gy)(v,N,e=>(0,n.u5)(e,N,{[M]:F(e,Q,f)})),[v,Q,Z,J,M,N]),eW=s.listNoData||eN,e$=s.valueHolder||e_,eU=(0,h.ql)(),eG=!K||ee.valid,{size:eY,rounded:ej,fillMode:eZ}=s,eQ=a.createElement(a.Fragment,null,a.createElement("span",{className:(0,n.AK)("k-dropdowntree k-picker",s.className,{[`k-picker-${eT[eY]||eY}`]:eY,[`k-rounded-${eO[ej]||ej}`]:ej,[`k-picker-${eZ}`]:eZ,"k-focus":eo,"k-invalid":!eG,"k-loading":s.loading,"k-required":_,"k-disabled":s.disabled}),tabIndex:P,accessKey:s.accessKey,id:p,style:R?{...k,width:void 0}:k,dir:ei,ref:V,onKeyDown:I?void 0:ek,onMouseDown:eR,onClick:I?void 0:eb,onFocus:eS,onBlur:ew,role:"combobox","aria-haspopup":"tree","aria-expanded":en,"aria-disabled":I,"aria-label":R,"aria-labelledby":s.ariaLabelledBy,"aria-describedby":s.ariaDescribedBy,"aria-required":_},a.createElement("span",{className:"k-input-inner"},a.createElement(e$,{item:Q},X||w)),s.loading&&a.createElement(n.aO,{className:"k-input-loading-icon",name:"loading"}),J&&!I&&a.createElement("span",{onClick:eH,className:"k-clear-value",title:eU.toLanguageString(B,W[B]),role:"button",tabIndex:-1,onMouseDown:e=>e.preventDefault()},a.createElement(n.aO,{name:"x",icon:r.FZE})),a.createElement(u.zx,{tabIndex:-1,type:"button","aria-label":"select",className:"k-input-button",size:eY,fillMode:eZ,themeColor:"base",rounded:null,icon:"caret-alt-down",svgIcon:r.M7i}),a.createElement("select",{name:D,ref:A,tabIndex:-1,"aria-hidden":!0,title:R,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},a.createElement("option",{value:s.valueMap?s.valueMap.call(void 0,Q):Q})),!eh&&a.createElement(d.GI,{className:(0,n.AK)(y.className,{"k-rtl":"rtl"===ei}),popupClass:(0,n.AK)(y.popupClass,"k-dropdowntree-popup"),style:es,animate:y.animate,anchor:V.current,show:en,onOpen:ex,onClose:eE,appendTo:y.appendTo},s.filterable&&a.createElement(m,{value:void 0===s.filter?eu:s.filter,ref:L,onChange:eL,onKeyDown:eC,size:eY,rounded:ej,fillMode:eZ}),v.length>0?a.createElement(g.LQ,{ref:$,tabIndex:P,data:eA,focusIdField:f,textField:s.textField,selectField:M,expandField:s.expandField,childrenField:N,expandIcons:!0,onItemClick:eD,onExpandChange:eV,size:eY,item:s.item,dir:ei}):a.createElement(eW,null,eU.toLanguageString(z,W[z])))),eh&&(()=>{let e=s.filterable?a.createElement(m,{value:void 0===s.filter?eu:s.filter,ref:q,onChange:eL,onKeyDown:eC,size:eY,rounded:ej,fillMode:eZ}):null,t={adaptiveTitle:s.adaptiveTitle,expand:en,onClose:e=>em(e),windowWidth:ed,mobileFilter:e};return a.createElement(ef,{...t},a.createElement(c.MG,{className:"!k-overflow-hidden"},a.createElement("div",{className:"k-list-container"},a.createElement("div",{className:"k-list k-list-lg"},v.length>0?a.createElement(g.LQ,{ref:$,tabIndex:P,data:eA,focusIdField:f,textField:s.textField,selectField:M,expandField:s.expandField,childrenField:N,expandIcons:!0,onItemClick:eD,onExpandChange:eV,size:eY,item:s.item,dir:ei}):a.createElement(eW,null,eU.toLanguageString(z,W[z]))))))})());return R?a.createElement(o._b,{label:R,editorValue:X,editorPlaceholder:w,editorValid:eG,editorDisabled:I,editorId:p,style:{width:k?k.width:void 0},children:eQ,dir:ei}):eQ}),eV={opened:l.bool,disabled:l.bool,dir:l.string,tabIndex:l.number,accessKey:l.string,data:l.array,value:l.any,valueMap:l.func,placeholder:l.string,dataItemKey:l.string.isRequired,textField:l.string.isRequired,selectField:l.string,expandField:l.string,subItemsField:l.string,className:l.string,style:l.object,label:l.string,validationMessage:l.string,validityStyles:l.bool,valid:l.bool,required:l.bool,name:l.string,id:l.string,ariaLabelledBy:l.string,ariaDescribedBy:l.string,filterable:l.bool,filter:l.string,loading:l.bool,popupSettings:l.shape({animate:l.oneOfType([l.bool,l.shape({openDuration:l.number,closeDuration:l.number})]),popupClass:l.string,className:l.string,appendTo:l.any,width:l.oneOfType([l.string,l.number]),height:l.oneOfType([l.string,l.number])}),onOpen:l.func,onClose:l.func,onFocus:l.func,onBlur:l.func,onChange:l.func,onFilterChange:l.func,onExpandChange:l.func,item:l.func,valueHolder:l.func,listNoData:l.func,adaptiveTitle:l.string,adaptive:l.bool};eH.displayName="KendoReactDropDownTree",eH.propTypes=eV;let{sizeMap:eL,roundedMap:eq}=n.kendoThemeMaps,eA=e=>e.split("_").map(e=>parseInt(e,10)),eW=(e,t)=>{let{validationMessage:i,valid:s,required:a}=e;return{customError:void 0!==i,valid:!!(void 0!==s?s:!a||t),valueMissing:!t}},e$={checkField:"checkField",checkIndeterminateField:"checkIndeterminateField",subItemsField:"items",popupSettings:{animate:!0,width:"200px",height:"200px"},size:"medium",rounded:"medium",fillMode:"solid",required:!1,validityStyles:!0},eU=(0,n.Y7)(),eG=a.forwardRef((e,t)=>{let i=(0,n.YO)(eU,e);(0,n.sc)(j);let s=(0,n.Me)(),l=i.id||s,{data:r=[],dataItemKey:p,popupSettings:u={},style:v={},opened:f,disabled:b,onOpen:y=n.UH,onClose:k=n.UH,placeholder:C,label:I,name:x,checkField:E=e$.checkField,checkIndeterminateField:w=e$.checkIndeterminateField,subItemsField:R=e$.subItemsField,validationMessage:D,valid:M,tags:N,value:O,required:_=e$.required,validityStyles:K=e$.validityStyles}=i,P=(0,n.pN)(i.tabIndex,b),B=a.useRef(null),H=a.useRef(null),V=a.useRef(null),L=a.useRef(null),$=a.useRef(null),U=a.useRef(null),G=a.useRef(!1),Y=a.useRef([]),Z=a.useRef(null),[Q,J]=a.useState(),[X,ee]=a.useState(!1),[et,es]=a.useState(!1),[ea,el]=a.useState(),[en,eo]=a.useState([]),[er,ed]=a.useState(""),ep=!!(ea&&ea<=768&&i.adaptive),eh=void 0!==f?f:X,eu=!!(Array.isArray(O)&&O.length),ec=eW({validationMessage:D,valid:M,required:_},eu),eg=(0,n.Vw)(H,i.dir),em={width:eM(H,void 0!==u.width?u.width:void 0!==v.width?v.width:e$.popupSettings.width),...void 0!==eg?{direction:eg}:{}},eb=a.useCallback(()=>H.current&&H.current.focus(),[]);Y.current=void 0===N?(O||[]).map(e=>({text:S(e,i.textField),data:[e]})):[...N],a.useImperativeHandle(B,()=>({props:i,element:H.current,focus:eb})),a.useImperativeHandle(t,()=>B.current);let ey=a.useCallback(()=>{$.current&&$.current.setCustomValidity&&$.current.setCustomValidity(ec.valid?"":void 0===D?"Please select a value from the list!":D)},[D,ec]);a.useEffect(ey),a.useEffect(()=>{let e=n.Nq&&window.ResizeObserver&&new window.ResizeObserver(eG.bind(void 0));return null!=document&&document.body&&e&&e.observe(document.body),()=>{e&&e.disconnect()}},[]),a.useEffect(()=>{Z.current&&eh&&Z.current.setPosition(Z.current._popup)},[O,eh]);let ek=a.useCallback((e,t,s)=>{if(i.onChange){let a={items:t,operation:s,...e};i.onChange.call(void 0,a)}},[i.onChange]),eC=a.useCallback(e=>{if(F(e.item,O,p)||!B.current)return;let{item:t,nativeEvent:i,syntheticEvent:s}=e;ek({syntheticEvent:s,nativeEvent:i,target:B.current},[t],"toggle")},[O,p,ek]),eI=a.useCallback(e=>{if(!eh){if(y){let t={...e};y.call(void 0,t)}void 0===f&&(ee(!0),eo(O||[]),ep&&setTimeout(()=>{var e;eS(null==(e=L.current)?void 0:e.element)},300))}},[eh,f,y,ep,L]),ex=a.useCallback(e=>{if(eh){if(k){let t={...e};k.call(void 0,t)}void 0===f&&ee(!1)}},[eh,f,k]),eE=a.useCallback(e=>{G.current=!0,e(),window.setTimeout(()=>G.current=!1,0)},[]),eS=a.useCallback(e=>{e&&eE(()=>e.focus())},[eE]),ew=a.useCallback(()=>{var e;!et&&eh?ex({target:B.current}):i.filterable?eS(null==(e=V.current)?void 0:e.element):eS(U.current&&U.current.element)},[et,eh,eS,ex,i.filterable]),eR=a.useCallback(()=>{et&&eS(H.current)},[et,eS]),eF=a.useCallback(e=>{if(!et&&!G.current&&(es(!0),i.onFocus&&B.current)){let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};i.onFocus.call(void 0,t)}},[et,i.onFocus]),eD=a.useCallback(e=>{if(et&&!G.current&&B.current){es(!1);let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};if(i.onBlur){let e={...t};i.onBlur.call(void 0,e)}ep||ex(t)}},[et,i.onBlur,eh,f,k]),eT=a.useCallback(()=>{et&&eE(n.UH)},[et,eE]),eO=a.useCallback(e=>{if(!e.isDefaultPrevented()&&B.current){es(!0);let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};eh||eI(t)}},[eh,eI]),e_=a.useCallback(e=>{var t,i;let{keyCode:s,altKey:a}=e,l=U.current&&U.current.element;if(!B.current||e.isDefaultPrevented()&&(null==(t=V.current)?void 0:t.element)===e.target)return;let o={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};if(O&&O.length>0&&(s===n.R8.left||s===n.R8.right||s===n.R8.home||s===n.R8.end||s===n.R8.delete)){let e=Y.current,t=Q?e.findIndex(e=>T(e,Q,p)):-1,i,a=-1!==t;s===n.R8.left?(t=a?Math.max(0,t-1):e.length-1,i=e[t]):s===n.R8.right?t===e.length-1?i=void 0:a&&(t=Math.min(e.length-1,t+1),i=e[t]):s===n.R8.home?i=e[0]:s===n.R8.end?i=e[e.length-1]:s===n.R8.delete&&a&&ek(o,e[t].data,"delete"),i!==Q&&J(i)}if(eh){if(s===n.R8.esc||a&&s===n.R8.up)e.preventDefault(),ex(o);else if(l&&l.querySelector(".k-focus")&&(s===n.R8.up||s===n.R8.down||s===n.R8.left||s===n.R8.right||s===n.R8.home||s===n.R8.end)){if(s===n.R8.up&&null!=(i=V.current)&&i.element){let e=Array.from(l.querySelectorAll(".k-treeview-item")),t=[...e].reverse().find(e=>!!(e&&e.querySelector(".k-focus")));if(t&&0===e.indexOf(t))return eE(()=>{var e;eS(null==(e=V.current)?void 0:e.element)})}eE(n.UH)}else s===n.R8.down&&eE(()=>{var e;eS((null==(e=V.current)?void 0:e.element)||l)})}else a&&s===n.R8.down&&(e.preventDefault(),eI(o))},[eh,ex,eS,eE,eI,Q,p,O,ek]),eK=a.useCallback(e=>{let{keyCode:t,altKey:i}=e;i||t!==n.R8.up&&t!==n.R8.down||(e.preventDefault(),eE(t===n.R8.up?()=>{eS(H.current)}:()=>{eS(U.current&&U.current.element)}))},[eS,eE]),eP=a.useCallback(e=>{if(!B.current)return;let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};ek(t,[],"clear"),ex(t),e.preventDefault()},[ek,ex]),ez=a.useCallback((e,t)=>{var i;ex({target:B.current}),et||eS(null==(i=V.current)?void 0:i.element),ek({syntheticEvent:t,nativeEvent:t.nativeEvent,target:B.current},e,"delete")},[ek,ex,eS,et]),eB=a.useCallback(e=>{if(i.onExpandChange&&B.current){let{item:t,itemHierarchicalIndex:s,nativeEvent:a,syntheticEvent:l}=e,n={level:eA(s),item:t,nativeEvent:a,syntheticEvent:l,target:B.current};i.onExpandChange.call(void 0,n)}},[i.onExpandChange]),eH=a.useCallback(e=>{if(i.onFilterChange&&B.current){let t={filter:{field:i.textField,operator:"contains",value:e.target.value},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:B.current};i.onFilterChange.call(void 0,t),void 0===i.filter&&ed(e.target.value)}},[i.onFilterChange,i.filter,i.textField]),eV=a.useCallback(e=>{if(!B.current)return;let t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:B.current};i.onCancel&&i.onCancel.call(void 0,t),ex(t),e.preventDefault()},[i.onCancel,ex]),eG=a.useCallback(e=>{for(let t of e)el(t.target.clientWidth)},[]),eY=i.listNoData||eN,ej=(0,h.ql)(),eZ=!K||ec.valid,{size:eQ,rounded:eJ,fillMode:eX}=i,e0=ep&&eh?en:Y.current,e1=a.createElement(a.Fragment,null,a.createElement("span",{className:(0,n.AK)("k-multiselecttree k-input",i.className,{[`k-input-${eL[eQ]||eQ}`]:eQ,[`k-rounded-${eq[eJ]||eJ}`]:eJ,[`k-input-${eX}`]:eX,"k-focus":et&&!b,"k-invalid":!eZ,"k-disabled":b,"k-loading":i.loading,"k-required":_}),tabIndex:P,accessKey:i.accessKey,id:l,style:I?{...v,width:void 0}:v,dir:eg,ref:H,onKeyDown:b?void 0:e_,onMouseDown:eT,onFocus:eF,onBlur:eD,role:"combobox","aria-haspopup":"tree","aria-expanded":eh,"aria-disabled":b,"aria-label":I,"aria-labelledby":i.ariaLabelledBy,"aria-describedby":i.ariaDescribedBy?i.ariaDescribedBy:"tagslist-"+l,"aria-required":i.required,onClick:b?void 0:eO},a.createElement("div",{id:"tagslist-"+l,className:(0,n.AK)("k-input-values k-chip-list k-selection-multiple",{[`k-chip-list-${eL[eQ]||eQ}`]:eQ})},e0.length>0?a.createElement(ev,{tag:i.tag,onTagDelete:ez,data:e0,guid:l,focused:Q?Y.current.find(e=>T(e,Q,p)):void 0,size:eQ}):C),a.createElement("span",{className:"k-input-inner"},a.createElement("span",{className:"k-input-value-text"},"\xa0")),i.loading&&a.createElement(n.aO,{className:"k-input-loading-icon",name:"loading"}),eu&&!b&&e0.length>0&&a.createElement(ei,{onClick:eP}),a.createElement("select",{name:x,ref:$,tabIndex:-1,"aria-hidden":!0,title:I,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},a.createElement("option",{value:i.valueMap?i.valueMap.call(void 0,O):O})),!ep&&a.createElement(d.GI,{popupClass:(0,n.AK)(u.popupClass,"k-multiselecttree-popup"),className:(0,n.AK)(u.className,{"k-rtl":"rtl"===eg}),style:em,animate:u.animate,anchor:H.current,show:eh,onOpen:ew,onClose:eR,appendTo:u.appendTo,ref:Z},i.filterable&&a.createElement(m,{value:void 0===i.filter?er:i.filter,ref:V,onChange:eH,onKeyDown:eK,tabIndex:P,size:eQ,rounded:eJ,fillMode:eX}),r.length>0?a.createElement(g.LQ,{ref:U,tabIndex:P,data:r,focusIdField:p,textField:i.textField,checkField:E,checkIndeterminateField:w,expandField:i.expandField,childrenField:R,expandIcons:!0,onItemClick:eC,onCheckChange:eC,onExpandChange:eB,checkboxes:!0,size:eQ,item:i.item,dir:eg}):a.createElement(eY,null,ej.toLanguageString(z,W[z])))),ep&&(()=>{let e=i.filterable?a.createElement(m,{value:void 0===i.filter?er:i.filter,ref:L,onChange:eH,onKeyDown:eK,size:eQ,rounded:eJ,fillMode:eX}):null,t={adaptiveTitle:i.adaptiveTitle,expand:eh,onClose:e=>i.onCancel?eV(e):eP(e),windowWidth:ea,mobileFilter:e,footer:{cancelText:ej.toLanguageString(A,W[A]),onCancel:e=>i.onCancel?eV(e):eP(e),applyText:ej.toLanguageString(q,W[q]),onApply:e=>ex(e)}};return a.createElement(ef,{...t},a.createElement(c.MG,{className:"!k-overflow-hidden"},a.createElement("div",{className:"k-list-container"},a.createElement("div",{className:"k-list k-list-lg"},r.length>0?a.createElement(g.LQ,{ref:U,tabIndex:P,data:r,focusIdField:p,textField:i.textField,checkField:E,checkIndeterminateField:w,expandField:i.expandField,childrenField:R,expandIcons:!0,onItemClick:eC,onCheckChange:eC,onExpandChange:eB,checkboxes:!0,size:eQ,item:i.item,dir:eg}):a.createElement(eY,null,ej.toLanguageString(z,W[z]))))))})());return I?a.createElement(o._b,{label:I,editorValue:eu,editorPlaceholder:C,editorValid:eZ,editorDisabled:b,editorId:l,style:{width:v?v.width:void 0},children:e1,dir:eg}):e1}),eY={opened:l.bool,disabled:l.bool,dir:l.string,tabIndex:l.number,accessKey:l.string,data:l.array,value:l.any,valueMap:l.func,placeholder:l.string,dataItemKey:l.string.isRequired,textField:l.string.isRequired,checkField:l.string,checkIndeterminateField:l.string,expandField:l.string,subItemsField:l.string,className:l.string,style:l.object,label:l.string,validationMessage:l.string,validityStyles:l.bool,valid:l.bool,required:l.bool,name:l.string,id:l.string,ariaLabelledBy:l.string,ariaDescribedBy:l.string,filterable:l.bool,filter:l.string,loading:l.bool,tags:l.arrayOf(l.shape({text:l.string,data:l.arrayOf(l.any)})),popupSettings:l.shape({animate:l.oneOfType([l.bool,l.shape({openDuration:l.number,closeDuration:l.number})]),popupClass:l.string,className:l.string,appendTo:l.any,width:l.oneOfType([l.string,l.number]),height:l.oneOfType([l.string,l.number])}),onOpen:l.func,onClose:l.func,onFocus:l.func,onBlur:l.func,onChange:l.func,onFilterChange:l.func,onExpandChange:l.func,onCancel:l.func,item:l.func,listNoData:l.func,adaptiveTitle:l.string,adaptive:l.bool};eG.displayName="KendoReactMultiSelectTree",eG.defaultProps=e$,eG.propTypes=eY}}]);