(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{119:function(e,t,n){Promise.resolve().then(n.bind(n,62))},4110:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(7437);function c(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"pageloader gray-bg",children:(0,r.jsxs)("div",{className:"loader",children:[(0,r.jsx)("span",{className:"z-3 opacity-100",children:"M\xe1y T\xednh Thu Nguyễn"}),(0,r.jsx)("div",{className:"sp-hydrogen"})]})})})}n(2265),n(3274)},62:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437);n(2265);var c=n(9317),a=n(7182),s=n(3797),u=n(6300),i=n(5364),o=n(3647);function l(e){let{id:t,images:n,name:l,price:d,description:h}=e.product,{data:f}=(0,o.rj)(),{mutateAsync:m}=(0,i.$B)(),p=async()=>{m({productId:t,quantity:1,accountId:null==f?void 0:f.data.id}).then(()=>{(0,a.Dd)("Bạn đ\xe3 th\xeam ".concat(l," v\xe0o giỏ h\xe0ng th\xe0nh c\xf4ng !"),{status:"success"})}).catch(e=>{(0,s.Cg)(e,"Để mua h\xe0ng, trước ti\xean bạn phải đăng nhập đ\xe3 ")})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.ZP,{allowHTML:!0,content:(0,r.jsx)("p",{className:"product-title text-center",children:h}),followCursor:!0,arrow:!0,animation:"scale",placement:"right",children:(0,r.jsx)("div",{className:"col-12 col-md-4 col-lg-3 mb-5 mb-md-0 mt-5 text-break",children:(0,r.jsxs)("div",{className:"product-item",children:[(0,r.jsx)("img",{src:n.length>0?n[0].url:"images/product-1.png",className:"img-fluid product-thumbnail"}),(0,r.jsx)("h3",{className:"product-title",children:l}),(0,r.jsx)("p",{className:"product-title",children:"".concat(h.slice(0,20),"...")}),(0,r.jsx)("strong",{className:"product-price",children:(0,u.x)(d)}),(0,r.jsx)("span",{onClick:p,className:"icon-cross",children:(0,r.jsx)("img",{src:"images/cross.svg",className:"img-fluid"})})]})})})})}var d=n(4110);function h(){var e;let{data:t,isLoading:n}=(0,o.iu)();return n?(0,r.jsx)(d.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hero",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row justify-content-between",children:[(0,r.jsx)("div",{className:"col-lg-7",children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)("h1",{children:"C\xf9ng nhau mua sắm n\xe0o !"})})}),(0,r.jsx)("div",{className:"col-lg-5",children:(0,r.jsx)("div",{className:"hero-img-wrap",children:(0,r.jsx)("img",{src:"images/Hardware.png",className:"img-fluid"})})})]})})}),(0,r.jsx)("div",{className:"untree_co-section product-section before-footer-section",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.map((e,t)=>(0,r.jsx)(l,{product:e},t))})})})]})}},1362:function(e,t,n){"use strict";n.d(t,{$c:function(){return s},B$:function(){return c},EU:function(){return a},UK:function(){return u}});var r=n(7713);let c={ACCESS_TOKEN:"access_token"},a=(e,t,n)=>(0,r.setCookie)(e,t,{expires:new Date(new Date().getTime()+6048e5)}),s=e=>(0,r.getCookie)(e),u=e=>(0,r.deleteCookie)(e)},6300:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(4859);let c=e=>r.format(e,{code:"VND"})},3797:function(e,t,n){"use strict";n.d(t,{B$:function(){return r.B$},Bi:function(){return i},$c:function(){return r.$c},Cg:function(){return u}});var r=n(1362),c=n(2265),a=n(9077);(0,c.cache)(()=>new a.QueryClient),n(8526);var s=n(7182);let u=(e,t)=>{var n;return(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status)===401?(0,s.Dd)(t,{status:"error"}):(0,s.Dd)("Cửa h\xe0ng đang bận, vui l\xf2ng trở lại sau \xedt ph\xfat nữa",{status:"error"})},i=e=>{let t=new Date(e);return null==t?void 0:t.toLocaleDateString("en-GB")}},7182:function(e,t,n){"use strict";n.d(t,{B$:function(){return i.B$},p7:function(){return u},UK:function(){return i.UK},$c:function(){return i.$c},EU:function(){return i.EU},Dd:function(){return c}});var r=n(171);let c=(e,t)=>(0,r.toast)(e,{progressStyle:{background:(null==t?void 0:t.status)==="success"?"var(--bs-primary)":(null==t?void 0:t.status)==="error"?"var(--bs-danger)":(null==t?void 0:t.status)==="warning"?"var(--bs-warning)":"var(--bs-info)"},autoClose:2e3,bodyStyle:{fontSize:16,fontWeight:500}});var a=n(2173),s=n(3797);console.log(!0);let u=a.Z.create({baseURL:"https://maytinhthunguyen.com/api"});a.Z.defaults.withCredentials=!0,u.defaults.headers.common.Authorization="Bearer ".concat((0,s.$c)(s.B$.ACCESS_TOKEN)),a.Z.interceptors.request.use(function(e){return e.headers.Authorization="Bearer ".concat((0,s.$c)(s.B$.ACCESS_TOKEN)),e.headers["Content-Type"]="application/json",e},function(e){return console.log(e),Promise.reject(e)});var i=n(1362)},5364:function(e,t,n){"use strict";n.d(t,{$B:function(){return d},Zz:function(){return s},FZ:function(){return i},qX:function(){return y},vF:function(){return p},xq:function(){return N},wE:function(){return x},Y$:function(){return f}});var r=n(9077),c=n(7182);let a=async e=>await c.p7.post("/auth/login",e),s=()=>(0,r.useMutation)(a),u=async e=>await c.p7.post("/auth/register",e),i=()=>(0,r.useMutation)(u);var o=n(3647);let l=async e=>await c.p7.post("/cart",e,{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}}),d=()=>{let e=(0,r.useQueryClient)();return(0,r.useMutation)(l,{onSuccess(t,n,r){let c=(0,o.xE)();e.fetchQuery({queryKey:c})}})},h=async e=>{let{id:t,data:n}=e;return await c.p7.put("/cart/".concat(t),n,{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}})},f=()=>{let e=(0,r.useQueryClient)();return(0,r.useMutation)(h,{onSuccess(t){let{data:n}=t,r=(0,o.xE)();e.fetchQuery({queryKey:r})}})},m=async e=>{let{id:t}=e;return await c.p7.delete("/cart/".concat(t),{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}})},p=()=>{let e=(0,r.useQueryClient)();return(0,r.useMutation)(m,{onSuccess(t){let{data:n}=t,r=(0,o.xE)();e.fetchQuery({queryKey:r})}})},g=async e=>await c.p7.post("/product",e,{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}}),y=()=>{let e=(0,r.useQueryClient)();return(0,r.useMutation)(g,{onSuccess(t){let{data:n}=t,r=(0,o.be)();e.refetchQueries({queryKey:r})}})},v=async e=>await c.p7.put("/product/".concat(e.id),e,{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}}),x=()=>{let e=(0,r.useQueryClient)();return(0,r.useMutation)(v,{onSuccess(t){let{data:n}=t,r=(0,o.be)();e.refetchQueries({queryKey:r})}})},C=async e=>await c.p7.delete("/product/".concat(e.id),{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}}),N=()=>{let e=(0,r.useQueryClient)();return(0,r.useMutation)(C,{onSuccess(t){let{data:n}=t,r=(0,o.be)();e.refetchQueries({queryKey:r})}})}},3647:function(e,t,n){"use strict";n.d(t,{be:function(){return o},xE:function(){return s},iu:function(){return l},rj:function(){return u}});var r=n(9077),c=n(7182);let a=async()=>await c.p7.get("/auth/check-is-login",{headers:{Authorization:"Bearer ".concat((0,c.$c)(c.B$.ACCESS_TOKEN))}}),s=()=>["is-user-logined"],u=()=>(0,r.useQuery)({queryKey:s(),queryFn:a,staleTime:0,cacheTime:0,refetchIntervalInBackground:!0,refetchOnReconnect:!0}),i=async()=>await c.p7.get("/product"),o=()=>["get-products"],l=()=>(0,r.useQuery)({queryKey:o(),queryFn:i,staleTime:5e3,cacheTime:5e3})},3274:function(){}},function(e){e.O(0,[366,180,471,859,317,526,971,938,744],function(){return e(e.s=119)}),_N_E=e.O()}]);